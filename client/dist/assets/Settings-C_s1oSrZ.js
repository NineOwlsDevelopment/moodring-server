import{c as P,i as W,r as n,ar as Pe,af as Se,n as Ce,ag as qe,am as Ae,j as e,m,as as Te,b as o,aj as re,L as _,ak as Ue,W as Fe,ai as De,an as $e,at as Le,au as Me,a3 as ce,al as Ee,U as Ie,ao as Re,y as ne,av as ze}from"./index-4FQH80kW.js";import{b as We}from"./imageCompression-DxdGVjC3.js";import{A as le}from"./activity-CFr3gsSv.js";import{A as me,a as de}from"./arrow-up-right-ipjrfKf6.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ge=P("briefcase",Be);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Je=P("credit-card",Ve);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],He=P("laptop",Oe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ke=P("shield",Ye);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oe=P("user",Qe),Xe=["moodring","admin","administrator","moderator","mod","support","staff","team","official","system","root","owner","founder","ceo","developer","dev","api","bot","service"],Ze=s=>Xe.some(r=>r.toLowerCase()===s.trim().toLowerCase()),U={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.25,.1,.25,1]}},T={animate:{transition:{staggerChildren:.08}}},et=s=>s.type||s.activity_type||"unknown",rt=()=>{var Z,ee,te,se,ae,ie;const{user:s}=W(),[r,S]=n.useState("profile"),[x,y]=n.useState(null),[F,f]=n.useState(!0),[B,j]=n.useState(null),[D,he]=n.useState("open"),[l,ge]=n.useState(null),[$,ue]=n.useState([]),[L,be]=n.useState([]),[C,G]=n.useState("positions"),[V,J]=n.useState([]),[q,fe]=n.useState("all"),[M,O]=n.useState(""),[H,g]=n.useState(null),[Y,E]=n.useState(!1),[v,K]=n.useState(!1),[Q,I]=n.useState(null);n.useEffect(()=>{s&&(je(),O(s.display_name||""))},[s]),n.useEffect(()=>{s&&r==="portfolio"&&ye()},[s,r,D]),n.useEffect(()=>{r==="activity"&&ve()},[r,q,s]);const je=async()=>{f(!0);try{const t=await Pe();y(t)}catch(t){console.error("Failed to load preferences:",t)}finally{f(!1)}},ye=async()=>{f(!0);try{const[t,i,a]=await Promise.all([Se(),Ce({status:D}),qe()]);ge(t),ue(i.positions),be(a.positions)}catch(t){console.error("Failed to load portfolio:",t)}finally{f(!1)}},ve=async()=>{f(!0);try{if(s){const{activities:t}=await Ae({type:q!=="all"?q:void 0});J(t)}else J([])}catch(t){console.error("Failed to load activities:",t)}finally{f(!1)}},R=async t=>{if(!x)return;const i=!x[t];y({...x,[t]:i});try{await ze({[t]:i}),j("Preferences saved!"),setTimeout(()=>j(null),2e3)}catch(a){console.error("Failed to update preferences:",a),y({...x,[t]:!i})}},we=async()=>{var i,a,p,u;if(!s)return;g(null),E(!0);const t=M.trim();if(t&&Ze(t)){g("This display name is reserved and cannot be used. Please choose a different name."),E(!1);return}try{const c=await Me({display_name:t||void 0}),{setUser:h}=W.getState();h&&c.user&&s&&h({...s,display_name:c.user.display_name}),j("Profile updated successfully!"),setTimeout(()=>j(null),3e3)}catch(c){console.error("Failed to update profile:",c);const h=((a=(i=c.response)==null?void 0:i.data)==null?void 0:a.error)||((u=(p=c.response)==null?void 0:p.data)==null?void 0:u.message)||c.message||"Failed to update profile";g(h)}finally{E(!1)}},X=async t=>{var u,c,h,w;if(!s||!t.target.files||t.target.files.length===0)return;const i=t.target.files[0];if(g(null),!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(i.type)){g("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image."),t.target.value="";return}const p=10*1024*1024;if(i.size>p){g("File size exceeds 10MB limit. Please choose a smaller image."),t.target.value="";return}K(!0);try{const d=await We(i),b=new FileReader;b.onloadend=()=>{I(b.result)},b.readAsDataURL(d);const A=await Le({avatar:d}),{setUser:N}=W.getState();N&&A.user&&s&&N({...s,avatar_url:A.user.avatar_url}),j("Avatar uploaded successfully!"),setTimeout(()=>j(null),3e3),I(null)}catch(d){console.error("Failed to upload avatar:",d);const b=((c=(u=d.response)==null?void 0:u.data)==null?void 0:c.error)||((w=(h=d.response)==null?void 0:h.data)==null?void 0:w.message)||d.message||"Failed to upload avatar";g(b),I(null)}finally{K(!1),t.target.value=""}};if(!s)return e.jsxs("div",{className:"min-h-screen bg-ink-black overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_50%_at_50%_-20%,rgba(124,77,255,0.1),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_60%_40%_at_80%_100%,rgba(33,246,210,0.06),transparent_50%)]"})]}),e.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-4",children:e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 border border-white/10 mb-8",children:e.jsx(oe,{className:"w-10 h-10 text-moon-grey/60"})}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-extralight tracking-tight text-white mb-4",children:"Settings"}),e.jsx("p",{className:"text-moon-grey/60 text-base sm:text-lg font-light",children:"Connect your wallet to access settings"})]})})]});const Ne=[{id:"profile",label:"Profile",icon:oe},{id:"portfolio",label:"Portfolio",icon:Ge},{id:"activity",label:"Activity",icon:le},{id:"notifications",label:"Notifications",icon:Te},{id:"security",label:"Security",icon:Ke}],z=({enabled:t,onToggle:i,label:a,description:p})=>e.jsxs("div",{className:"flex items-center justify-between py-5 border-b border-white/5 last:border-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm sm:text-base font-light text-white",children:a}),p&&e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey/50 mt-1 font-light",children:p})]}),e.jsx("button",{onClick:i,className:`relative w-12 h-6 transition-colors ${t?"bg-neon-iris":"bg-white/10"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white transition-all ${t?"left-7":"left-1"}`})})]}),ke=({activity:t})=>{const a=(()=>{if(!t.metadata)return{};if(typeof t.metadata=="string")try{return JSON.parse(t.metadata)}catch{return{}}return t.metadata})(),p=et(t),u=()=>{var w;switch(p){case"trade":const d=a.side||a.option_side,b=a.trade_type||a.action,A=a.quantity||a.shares||0,N=a.amount||a.cost||a.total_cost||0;return e.jsxs("span",{className:"flex flex-wrap items-center gap-1",children:[e.jsxs("span",{className:`font-medium ${d==="yes"?"text-aqua-pulse":"text-danger-400"}`,children:[b==="buy"?"Bought":"Sold"," ",ce(A)," ",d==null?void 0:d.toUpperCase()]}),N>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-moon-grey/50",children:"for"}),e.jsx("span",{className:"font-medium text-white",children:o(N)})]})]});case"market_created":case"market_initialized":return e.jsx("span",{className:"text-moon-grey/60",children:"Created a new market"});case"market_resolved":return e.jsxs("span",{className:"flex items-center gap-1 flex-wrap",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Resolved:"}),e.jsx("span",{className:"font-medium text-neon-iris",children:a.outcome||((w=a.winning_side)==null?void 0:w.toUpperCase())})]});case"deposit":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Deposited"}),e.jsx("span",{className:"font-medium text-aqua-pulse",children:o(a.amount||0)})]});case"withdrawal":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Withdrew"}),e.jsx("span",{className:"font-medium text-amber-400",children:o(a.amount||0)})]});case"claim":case"lp_rewards_claimed":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Claimed"}),e.jsx("span",{className:"font-medium text-aqua-pulse",children:o(a.amount||a.rewards||0)})]});case"liquidity_added":return e.jsx("span",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-moon-grey/60",children:"Added liquidity"})});case"liquidity_removed":return e.jsx("span",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-moon-grey/60",children:"Removed liquidity"})});case"user_joined":return e.jsx("span",{className:"text-moon-grey/60",children:"Joined the platform"});case"comment":return e.jsx("span",{className:"text-moon-grey/60",children:"Commented on market"});default:return e.jsx("span",{className:"text-moon-grey/60 capitalize",children:p.replace(/_/g," ")})}},c=t.market_id||a.market_id,h=t.market_question||a.market_question;return e.jsxs(m.div,{className:"flex items-start gap-3 p-4 sm:p-5 bg-white/[0.02] border border-white/5 hover:border-white/10 transition-all duration-300",variants:U,children:[t.username&&e.jsx(Ie,{name:t.username,imageUrl:t.avatar_url,size:"md"}),e.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsxs("div",{className:"text-xs sm:text-sm leading-relaxed flex flex-wrap items-center gap-x-1",children:[t.username&&e.jsxs("span",{className:"font-medium text-white truncate max-w-[80px] sm:max-w-[100px] inline-block align-middle",children:["@",t.username]}),e.jsx("span",{className:"min-w-0 break-words font-light",children:u()})]}),c&&h&&e.jsx(_,{to:`/market/${c}`,className:"text-neon-iris/80 hover:text-neon-iris text-xs sm:text-sm font-light line-clamp-2 sm:line-clamp-1 mt-2 transition-colors block break-words",children:h})]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-moon-grey/40 flex-shrink-0 whitespace-nowrap ml-1",children:[e.jsx(Re,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline",children:ne(new Date(t.created_at).getTime()/1e3)}),e.jsx("span",{className:"sm:hidden",children:ne(new Date(t.created_at).getTime()/1e3).split(" ")[0]})]})]})})]})},_e=[{id:"all",label:"All",icon:Fe},{id:"trade",label:"Trades",icon:re},{id:"deposit",label:"Deposits",icon:De},{id:"withdrawal",label:"Withdrawals",icon:$e}];return e.jsxs("div",{className:"min-h-screen bg-ink-black overflow-hidden pb-20 md:pb-8",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_50%_at_50%_-20%,rgba(124,77,255,0.12),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_60%_40%_at_80%_100%,rgba(33,246,210,0.06),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02] hidden sm:block",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                             linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)`,backgroundSize:"60px 60px"}})]}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-neon-iris/20 to-transparent"}),e.jsxs("div",{className:"relative z-10 section-container py-12 sm:py-16 lg:py-20",children:[e.jsxs(m.div,{className:"mb-8 sm:mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.25em] uppercase text-neon-iris/80 font-medium mb-4",children:"Account"}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extralight tracking-tight text-white",children:"Settings"})]}),B&&e.jsx(m.div,{className:"mb-6 px-5 py-4 bg-aqua-pulse/10 border border-aqua-pulse/20 text-aqua-pulse text-sm font-light",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:B}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 sm:gap-8",children:[e.jsx(m.div,{className:"lg:w-64 flex-shrink-0",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8,delay:.1},children:e.jsx("nav",{className:"flex flex-row lg:flex-col gap-2 lg:gap-1 overflow-x-auto lg:overflow-x-visible pb-2 lg:pb-0 -mx-4 sm:-mx-6 lg:mx-0 px-4 sm:px-6 lg:px-0",children:Ne.map(t=>{const i=t.icon;return e.jsxs("button",{onClick:()=>S(t.id),className:`flex items-center gap-2 sm:gap-3 px-4 sm:px-5 py-3 sm:py-4 text-left transition-all duration-300 whitespace-nowrap flex-shrink-0 lg:w-full ${r===t.id?"bg-white text-ink-black":"text-moon-grey/60 hover:text-white hover:bg-white/5 border border-transparent hover:border-white/10"}`,children:[e.jsx(i,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm tracking-[0.05em] uppercase font-medium",children:t.label})]},t.id)})})}),e.jsxs(m.div,{className:"flex-1 min-w-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[r==="profile"&&e.jsxs("div",{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5 p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-light text-white mb-6 sm:mb-8",children:"Profile Settings"}),e.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 mb-8 pb-8 border-b border-white/5",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[s.avatar_url||Q?e.jsx("img",{src:Q||s.avatar_url||"",alt:"Avatar",className:"w-20 h-20 sm:w-24 sm:h-24 object-cover border border-white/10"}):e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-neon-iris to-aqua-pulse flex items-center justify-center text-white text-2xl sm:text-3xl font-light",children:((Z=s.display_name)==null?void 0:Z.charAt(0).toUpperCase())||"U"}),e.jsx("label",{htmlFor:"avatar-upload",className:`absolute inset-0 bg-black/60 flex items-center justify-center cursor-pointer transition-opacity hover:opacity-100 ${v?"opacity-100":"opacity-0"}`,children:v?e.jsx("div",{className:"text-white text-xs font-medium tracking-wide",children:"Uploading..."}):e.jsx("div",{className:"text-white text-xs font-medium tracking-wide",children:"Change"})}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:X,disabled:v,className:"hidden"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-light text-white truncate",children:s.display_name}),e.jsxs("p",{className:"text-moon-grey/60 text-sm sm:text-base font-light truncate",children:["@",s.username]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-3",children:"Profile Picture"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e.jsx("label",{htmlFor:"avatar-upload-button",className:"px-5 py-2.5 border border-white/10 text-white text-xs tracking-[0.1em] uppercase cursor-pointer hover:bg-white/5 hover:border-white/20 transition-all",children:v?"Uploading...":"Upload Avatar"}),e.jsx("input",{id:"avatar-upload-button",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:X,disabled:v,className:"hidden"}),e.jsx("p",{className:"text-xs text-moon-grey/40 font-light",children:"JPEG, PNG, GIF, or WebP. Max 10MB."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-3",children:"Display Name"}),e.jsx("input",{type:"text",value:M,onChange:t=>{O(t.target.value),g(null)},className:"w-full bg-white/[0.02] border border-white/10 px-4 py-3 text-white font-light focus:outline-none focus:border-neon-iris/50 transition-colors",placeholder:"Your display name",maxLength:50}),e.jsx("p",{className:"text-xs text-moon-grey/40 mt-2 font-light",children:"Display names must be unique and can only be changed once every 30 days"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-3",children:"Username"}),e.jsx("input",{type:"text",value:s.username,className:"w-full bg-white/[0.02] border border-white/5 px-4 py-3 text-moon-grey/40 font-light cursor-not-allowed",disabled:!0,readOnly:!0}),e.jsx("p",{className:"text-xs text-moon-grey/40 mt-2 font-light",children:"Usernames cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-3",children:"Email"}),e.jsx("input",{type:"email",defaultValue:s.email||"",className:"w-full bg-white/[0.02] border border-white/5 px-4 py-3 text-moon-grey/40 font-light cursor-not-allowed",disabled:!0,readOnly:!0}),e.jsx("p",{className:"text-xs text-moon-grey/40 mt-2 font-light",children:"Used for notifications and account recovery"})]}),H&&e.jsx("div",{className:"p-4 bg-danger-400/10 border border-danger-400/20 text-danger-400 text-sm font-light",children:H}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:we,disabled:Y||M.trim()===(s.display_name||""),className:"px-6 py-3 bg-white text-ink-black text-sm font-medium tracking-wide uppercase hover:bg-moon-grey-light transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:Y?"Saving...":"Save Changes"})})]})]}),r==="portfolio"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m.div,{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",variants:T,initial:"initial",animate:"animate",children:[e.jsx(k,{label:"Total Value",value:o((l==null?void 0:l.total_value)||0),index:0}),e.jsx(k,{label:"Cash Balance",value:o(((ee=s==null?void 0:s.wallet)==null?void 0:ee.balance_usdc)||0),index:1}),e.jsx(k,{label:"Positions",value:o((l==null?void 0:l.positions_value)||0),index:2}),e.jsx(k,{label:"Total P&L",value:`${((l==null?void 0:l.total_pnl)||0)>=0?"+":""}${o((l==null?void 0:l.total_pnl)||0)}`,variant:((l==null?void 0:l.total_pnl)||0)>=0?"success":"danger",index:3})]}),e.jsxs("div",{className:"flex gap-2 border-b border-white/5 pb-2 overflow-x-auto -mx-4 sm:mx-0 px-4 sm:px-0",children:[e.jsxs("button",{onClick:()=>G("positions"),className:`px-4 sm:px-5 py-2.5 text-xs sm:text-sm font-medium transition-all whitespace-nowrap flex-shrink-0 tracking-[0.1em] uppercase ${C==="positions"?"bg-white text-ink-black":"text-moon-grey/60 hover:text-white border border-white/10"}`,children:["Positions (",$.length,")"]}),e.jsxs("button",{onClick:()=>G("liquidity"),className:`px-4 sm:px-5 py-2.5 text-xs sm:text-sm font-medium transition-all whitespace-nowrap flex-shrink-0 tracking-[0.1em] uppercase ${C==="liquidity"?"bg-white text-ink-black":"text-moon-grey/60 hover:text-white border border-white/10"}`,children:["Liquidity (",L.length,")"]})]}),C==="positions"&&e.jsxs("div",{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5",children:[e.jsx("div",{className:"p-5 sm:p-6 border-b border-white/5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-lg font-light text-white",children:"Your Positions"}),e.jsx("div",{className:"flex gap-2",children:["open","closed","all"].map(t=>e.jsx("button",{onClick:()=>he(t),className:`px-3 py-1.5 text-xs font-medium transition-all uppercase tracking-[0.1em] ${D===t?"bg-white text-ink-black":"text-moon-grey/60 hover:text-white border border-white/10"}`,children:t},t))})]})}),e.jsx("div",{className:"p-5 sm:p-6",children:F?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((t,i)=>e.jsx("div",{className:"h-24 bg-white/[0.02] border border-white/5 animate-pulse"},i))}):$.length===0?e.jsxs("div",{className:"text-center py-12 sm:py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 border border-white/10 mb-6",children:e.jsx(re,{className:"w-8 h-8 text-moon-grey/40"})}),e.jsx("p",{className:"text-moon-grey/60 mb-6 font-light",children:"No positions yet. Start trading!"}),e.jsx(_,{to:"/markets",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-white text-ink-black text-sm font-medium tracking-wide uppercase hover:bg-moon-grey-light transition-all",children:"Browse Markets"})]}):e.jsx(m.div,{className:"space-y-3",variants:T,initial:"initial",animate:"animate",children:$.map(t=>e.jsx(xe,{position:t},t.id))})})]}),C==="liquidity"&&e.jsxs("div",{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5",children:[e.jsx("div",{className:"p-5 sm:p-6 border-b border-white/5",children:e.jsx("h2",{className:"text-lg font-light text-white",children:"Liquidity Positions"})}),e.jsx("div",{className:"p-5 sm:p-6",children:L.length===0?e.jsxs("div",{className:"text-center py-12 sm:py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 border border-white/10 mb-6",children:e.jsx(Ue,{className:"w-8 h-8 text-moon-grey/40"})}),e.jsx("p",{className:"text-moon-grey/60 mb-6 font-light",children:"No liquidity positions yet"}),e.jsx(_,{to:"/markets",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-white text-ink-black text-sm font-medium tracking-wide uppercase hover:bg-moon-grey-light transition-all",children:"Explore Markets"})]}):e.jsx(m.div,{className:"space-y-3",variants:T,initial:"initial",animate:"animate",children:L.map(t=>e.jsx(pe,{position:t},t.id))})})]})]}),r==="activity"&&e.jsxs("div",{className:"space-y-6",children:[s&&e.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto -mx-4 sm:mx-0 px-4 sm:px-0 pb-2 sm:pb-0",children:_e.map(t=>{const i=t.icon;return e.jsxs("button",{onClick:()=>fe(t.id),className:`flex items-center gap-2 px-4 py-2.5 text-xs font-medium transition-all whitespace-nowrap flex-shrink-0 tracking-[0.1em] uppercase ${q===t.id?"bg-white text-ink-black":"text-moon-grey/60 hover:text-white border border-white/10"}`,children:[e.jsx(i,{className:"w-4 h-4 flex-shrink-0"}),t.label]},t.id)})}),e.jsxs("div",{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5 p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"relative",children:e.jsxs("span",{className:"flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full bg-aqua-pulse opacity-75"}),e.jsx("span",{className:"relative inline-flex h-2 w-2 bg-aqua-pulse"})]})}),e.jsx("h2",{className:"text-lg font-light text-white",children:"Recent Transactions"})]}),F?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((t,i)=>e.jsx("div",{className:"h-20 bg-white/[0.02] border border-white/5 animate-pulse"},i))}):V.length===0?e.jsxs("div",{className:"text-center py-12 sm:py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 border border-white/10 mb-6",children:e.jsx(le,{className:"w-8 h-8 text-moon-grey/40"})}),e.jsx("p",{className:"text-moon-grey/60 font-light",children:"No activity yet"})]}):e.jsx(m.div,{className:"space-y-3",variants:T,initial:"initial",animate:"animate",children:V.map(t=>e.jsx(ke,{activity:t},t.id))})]})]}),r==="notifications"&&e.jsxs("div",{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5 p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-light text-white mb-6 sm:mb-8",children:"Notification Preferences"}),F?e.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((t,i)=>e.jsx("div",{className:"h-16 bg-white/[0.02] border border-white/5 animate-pulse"},i))}):x?e.jsxs("div",{children:[e.jsx("h3",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-4",children:"Email Notifications"}),e.jsx(z,{enabled:x.email_trade_confirmations,onToggle:()=>R("email_trade_confirmations"),label:"Trade Confirmations",description:"Receive email when your trades are executed"}),e.jsx(z,{enabled:x.email_market_resolutions,onToggle:()=>R("email_market_resolutions"),label:"Market Resolutions",description:"Get notified when markets you traded on resolve"}),e.jsx("h3",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mt-8 mb-4",children:"Push Notifications"}),e.jsx(z,{enabled:x.push_enabled,onToggle:()=>R("push_enabled"),label:"Enable Push Notifications",description:"Receive browser push notifications"})]}):e.jsx("p",{className:"text-moon-grey/60 font-light",children:"Failed to load preferences. Please try again."})]}),r==="security"&&e.jsxs("div",{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5 p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-light text-white mb-6 sm:mb-8",children:"Security Settings"}),e.jsxs("div",{className:"mb-8 pb-8 border-b border-white/5",children:[e.jsx("h3",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-4",children:"Connected Wallet"}),e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 bg-white/[0.02] border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-neon-iris/10 flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 sm:w-6 sm:h-6 text-neon-iris"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-light text-white text-sm sm:text-base",children:"Solana Wallet"}),e.jsxs("p",{className:"text-xs sm:text-sm text-moon-grey/50 font-mono",children:[(se=(te=s.wallet)==null?void 0:te.publicKey)==null?void 0:se.toString().slice(0,8),"...",(ie=(ae=s.wallet)==null?void 0:ae.publicKey)==null?void 0:ie.toString().slice(-8)]})]})]}),e.jsx("span",{className:"px-2 py-1 bg-aqua-pulse/10 text-aqua-pulse text-[10px] tracking-[0.1em] uppercase",children:"Connected"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-4",children:"Active Sessions"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 bg-white/[0.02] border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/5 flex items-center justify-center",children:e.jsx(He,{className:"w-5 h-5 sm:w-6 sm:h-6 text-moon-grey/60"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-light text-white text-sm sm:text-base",children:"Current Session"}),e.jsx("p",{className:"text-xs sm:text-sm text-moon-grey/50 font-light",children:"Chrome on macOS â€¢ Now"})]})]}),e.jsx("span",{className:"text-aqua-pulse text-xs sm:text-sm",children:"Active"})]})}),e.jsx("button",{className:"mt-6 text-danger-400 hover:text-danger-400/70 text-xs sm:text-sm font-medium transition-colors tracking-wide",children:"Sign out of all other sessions"})]})]})]})]})]})]})},k=n.memo(({label:s,value:r,variant:S="default",index:x})=>{const y=S==="success"?"text-aqua-pulse":S==="danger"?"text-danger-400":"text-white";return e.jsxs(m.div,{className:"bg-graphite-deep/60 backdrop-blur-sm border border-white/5 p-4 sm:p-5",variants:U,custom:x,children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.15em] uppercase text-moon-grey/50 mb-2 truncate",children:s}),e.jsx("div",{className:`text-lg sm:text-xl lg:text-2xl font-light ${y} tabular-nums truncate`,children:r})]})});k.displayName="PortfolioStatCard";const xe=n.memo(({position:s})=>{const r=s.pnl>=0;return e.jsx(m.div,{variants:U,children:e.jsx(_,{to:`/market/${s.market_id}`,className:"block p-4 sm:p-5 bg-white/[0.02] border border-white/5 hover:border-white/10 transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-light text-white mb-1 text-sm sm:text-base truncate group-hover:text-neon-iris transition-colors",children:s.market_question}),s.option_label&&e.jsx("p",{className:"text-xs sm:text-sm text-neon-iris/70 mb-2 truncate",children:s.option_label}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm",children:[e.jsx("span",{className:`font-medium ${s.side==="yes"?"text-aqua-pulse":"text-danger-400"}`,children:s.side.toUpperCase()}),e.jsxs("span",{className:"text-moon-grey/50 font-light",children:[ce(s.shares)," @ ",Ee(s.avg_price)]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"font-light text-white text-sm sm:text-base tabular-nums",children:o(s.shares*s.current_price)}),e.jsxs("div",{className:`text-xs sm:text-sm font-medium flex items-center justify-end gap-1 ${r?"text-aqua-pulse":"text-danger-400"}`,children:[r?e.jsx(me,{className:"w-3.5 h-3.5"}):e.jsx(de,{className:"w-3.5 h-3.5"}),r?"+":"",o(s.pnl)]})]})]})})})});xe.displayName="SettingsPositionCard";const pe=n.memo(({position:s})=>{const r=s.pnl>=0;return e.jsx(m.div,{variants:U,children:e.jsx(_,{to:`/market/${s.market_id}`,className:"block p-4 sm:p-5 bg-white/[0.02] border border-white/5 hover:border-white/10 transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-light text-white mb-1 truncate group-hover:text-neon-iris transition-colors",children:s.market_question}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-moon-grey/50 font-light",children:[e.jsxs("span",{children:["Provided: ",o(s.liquidity_provided)]}),e.jsxs("span",{children:["Fees: ",e.jsxs("span",{className:"text-aqua-pulse",children:["+",o(s.fees_earned)]})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"font-light text-white tabular-nums",children:o(s.current_value)}),e.jsxs("div",{className:`text-sm font-medium flex items-center justify-end gap-1 ${r?"text-aqua-pulse":"text-danger-400"}`,children:[r?e.jsx(me,{className:"w-3.5 h-3.5"}):e.jsx(de,{className:"w-3.5 h-3.5"}),r?"+":"",o(s.pnl)]})]})]})})})});pe.displayName="SettingsLiquidityCard";export{rt as Settings};
