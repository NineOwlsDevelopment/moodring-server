import{c as w,d as E,r as i,ao as be,ad as je,k as Ne,ae as ye,aj as ve,j as e,ap as we,h as n,ah as ee,L as v,a1 as se,ai as ke,aq as _e,V as Pe,ag as Se,ak as Ce,ar as Ae,as as Te,$ as Ue,al as qe,w as te,at as Fe}from"./index-BvLxgWIs.js";import{b as De}from"./imageCompression-DxdGVjC3.js";import{A as ae}from"./activity-B_tlOe2T.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Me=w("briefcase",$e);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Le=w("credit-card",Ee);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],Re=w("laptop",Ie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ve=w("shield",ze);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],le=w("user",Be),Ge=["moodring","admin","administrator","moderator","mod","support","staff","team","official","system","root","owner","founder","ceo","developer","dev","api","bot","service"],We=t=>Ge.some(o=>o.toLowerCase()===t.trim().toLowerCase()),Je=t=>t.type||t.activity_type||"unknown",Ke=()=>{var Y,H,K,Q,X,Z;const{user:t}=E(),[o,ie]=i.useState("profile"),[h,S]=i.useState(null),[C,f]=i.useState(!0),[L,b]=i.useState(null),[A,re]=i.useState("open"),[r,ne]=i.useState(null),[T,ce]=i.useState([]),[U,oe]=i.useState([]),[k,I]=i.useState("positions"),[R,z]=i.useState([]),[_,de]=i.useState("all"),[q,V]=i.useState(""),[B,p]=i.useState(null),[G,F]=i.useState(!1),[j,W]=i.useState(!1),[J,D]=i.useState(null);i.useEffect(()=>{t&&(me(),V(t.display_name||""))},[t]),i.useEffect(()=>{t&&o==="portfolio"&&xe()},[t,o,A]),i.useEffect(()=>{o==="activity"&&he()},[o,_,t]);const me=async()=>{f(!0);try{const s=await be();S(s)}catch(s){console.error("Failed to load preferences:",s)}finally{f(!1)}},xe=async()=>{f(!0);try{const[s,l,a]=await Promise.all([je(),Ne({status:A}),ye()]);ne(s),ce(l.positions),oe(a.positions)}catch(s){console.error("Failed to load portfolio:",s)}finally{f(!1)}},he=async()=>{f(!0);try{if(t){const{activities:s}=await ve({type:_!=="all"?_:void 0});z(s)}else z([])}catch(s){console.error("Failed to load activities:",s)}finally{f(!1)}},$=async s=>{if(!h)return;const l=!h[s];S({...h,[s]:l});try{await Fe({[s]:l}),b("Preferences saved!"),setTimeout(()=>b(null),2e3)}catch(a){console.error("Failed to update preferences:",a),S({...h,[s]:!l})}},pe=async()=>{var l,a,m,u;if(!t)return;p(null),F(!0);const s=q.trim();if(s&&We(s)){p("This display name is reserved and cannot be used. Please choose a different name."),F(!1);return}try{const c=await Te({display_name:s||void 0}),{setUser:x}=E.getState();x&&c.user&&t&&x({...t,display_name:c.user.display_name}),b("Profile updated successfully!"),setTimeout(()=>b(null),3e3)}catch(c){console.error("Failed to update profile:",c);const x=((a=(l=c.response)==null?void 0:l.data)==null?void 0:a.error)||((u=(m=c.response)==null?void 0:m.data)==null?void 0:u.message)||c.message||"Failed to update profile";p(x)}finally{F(!1)}},O=async s=>{var u,c,x,N;if(!t||!s.target.files||s.target.files.length===0)return;const l=s.target.files[0];if(p(null),!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(l.type)){p("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image."),s.target.value="";return}const m=10*1024*1024;if(l.size>m){p("File size exceeds 10MB limit. Please choose a smaller image."),s.target.value="";return}W(!0);try{const d=await De(l),g=new FileReader;g.onloadend=()=>{D(g.result)},g.readAsDataURL(d);const P=await Ae({avatar:d}),{setUser:y}=E.getState();y&&P.user&&t&&y({...t,avatar_url:P.user.avatar_url}),b("Avatar uploaded successfully!"),setTimeout(()=>b(null),3e3),D(null)}catch(d){console.error("Failed to upload avatar:",d);const g=((c=(u=d.response)==null?void 0:u.data)==null?void 0:c.error)||((N=(x=d.response)==null?void 0:x.data)==null?void 0:N.message)||d.message||"Failed to upload avatar";p(g),D(null)}finally{W(!1),s.target.value=""}};if(!t)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-graphite-light flex items-center justify-center mb-6",children:e.jsx(le,{className:"w-10 h-10 text-moon-grey-dark"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"Settings"}),e.jsx("p",{className:"text-moon-grey text-center",children:"Connect your wallet to access settings"})]});const ue=[{id:"profile",label:"Profile",icon:le},{id:"portfolio",label:"Portfolio",icon:Me},{id:"activity",label:"Activity",icon:ae},{id:"notifications",label:"Notifications",icon:we},{id:"security",label:"Security",icon:Ve}],M=({enabled:s,onToggle:l,label:a,description:m})=>e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-white/5 last:border-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:a}),m&&e.jsx("div",{className:"text-sm text-moon-grey mt-0.5",children:m})]}),e.jsx("button",{onClick:l,className:`relative w-12 h-6 rounded-full transition-colors ${s?"bg-neon-iris":"bg-graphite-hover"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${s?"left-7":"left-1"}`})})]}),ge=({activity:s})=>{const a=(()=>{if(!s.metadata)return{};if(typeof s.metadata=="string")try{return JSON.parse(s.metadata)}catch{return{}}return s.metadata})(),m=Je(s),u=()=>{var N;switch(m){case"trade":const d=a.side||a.option_side,g=a.trade_type||a.action,P=a.quantity||a.shares||0,y=a.amount||a.cost||a.total_cost||0;return e.jsxs("span",{className:"flex flex-wrap items-center gap-1",children:[e.jsxs("span",{className:`font-semibold ${d==="yes"?"text-brand-success":"text-brand-danger"}`,children:[g==="buy"?"Bought":"Sold"," ",se(P)," ",d==null?void 0:d.toUpperCase()]}),y>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-moon-grey",children:"for"}),e.jsx("span",{className:"font-semibold text-white",children:n(y)})]})]});case"market_created":case"market_initialized":return e.jsx("span",{className:"text-moon-grey",children:"Created a new market"});case"market_resolved":return e.jsxs("span",{className:"flex items-center gap-1 flex-wrap",children:[e.jsx("span",{className:"text-moon-grey",children:"Resolved:"}),e.jsx("span",{className:"font-semibold text-neon-iris",children:a.outcome||((N=a.winning_side)==null?void 0:N.toUpperCase())})]});case"deposit":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey",children:"Deposited"}),e.jsx("span",{className:"font-semibold text-brand-success",children:n(a.amount||0)})]});case"withdrawal":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey",children:"Withdrew"}),e.jsx("span",{className:"font-semibold text-amber-400",children:n(a.amount||0)})]});case"claim":case"lp_rewards_claimed":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey",children:"Claimed"}),e.jsx("span",{className:"font-semibold text-brand-success",children:n(a.amount||a.rewards||0)})]});case"liquidity_added":return e.jsx("span",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-moon-grey",children:"Added liquidity"})});case"liquidity_removed":return e.jsx("span",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-moon-grey",children:"Removed liquidity"})});case"user_joined":return e.jsx("span",{className:"text-moon-grey",children:"Joined the platform"});case"comment":return e.jsx("span",{className:"text-moon-grey",children:"Commented on market"});default:return e.jsx("span",{className:"text-moon-grey capitalize",children:m.replace(/_/g," ")})}},c=s.market_id||a.market_id,x=s.market_question||a.market_question;return e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 rounded-xl bg-graphite-light/50 hover:bg-graphite-light transition-all duration-200",children:[s.username&&e.jsx(Ue,{name:s.username,imageUrl:s.avatar_url,size:"md"}),e.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsxs("div",{className:"text-xs sm:text-sm leading-relaxed flex flex-wrap items-center gap-x-1",children:[s.username&&e.jsxs("span",{className:"font-semibold text-white truncate max-w-[80px] sm:max-w-[100px] inline-block align-middle",children:["@",s.username]}),e.jsx("span",{className:"min-w-0 break-words",children:u()})]}),c&&x&&e.jsx(v,{to:`/market/${c}`,className:"text-neon-iris hover:text-neon-iris-light text-xs sm:text-sm font-medium line-clamp-2 sm:line-clamp-1 mt-1 transition-colors block break-words",children:x})]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-moon-grey-dark flex-shrink-0 whitespace-nowrap ml-1",children:[e.jsx(qe,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline",children:te(new Date(s.created_at).getTime()/1e3)}),e.jsx("span",{className:"sm:hidden",children:te(new Date(s.created_at).getTime()/1e3).split(" ")[0]})]})]})})]})},fe=[{id:"all",label:"All",icon:Pe},{id:"trade",label:"Trades",icon:ee},{id:"deposit",label:"Deposits",icon:Se},{id:"withdrawal",label:"Withdrawals",icon:Ce}];return e.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[e.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-neon-iris/5 via-transparent to-aqua-pulse/5 pointer-events-none"}),e.jsxs("div",{className:"relative max-w-6xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-4 sm:mb-6",children:"Settings"}),L&&e.jsx("div",{className:"mb-6 px-4 py-3 bg-brand-success/20  rounded-xl text-brand-success text-sm animate-fade-in",children:L}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("nav",{className:"flex flex-row lg:flex-col gap-2 lg:gap-1 overflow-x-auto lg:overflow-x-visible pb-2 lg:pb-0 -mx-3 sm:-mx-4 lg:mx-0 px-3 sm:px-4 lg:px-0",children:ue.map(s=>{const l=s.icon;return e.jsxs("button",{onClick:()=>ie(s.id),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl text-left transition-all duration-200 min-h-[44px] sm:min-h-[48px] whitespace-nowrap flex-shrink-0 lg:w-full ${o===s.id?"bg-gradient-brand text-white shadow-neon-subtle":"text-moon-grey hover:text-white hover:bg-graphite-light"}`,children:[e.jsx(l,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:s.label})]},s.id)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[o==="profile"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white mb-4 sm:mb-6",children:"Profile Settings"}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6 pb-4 sm:pb-6 border-b border-white/5",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[t.avatar_url||J?e.jsx("img",{src:J||t.avatar_url||"",alt:"Avatar",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-2 border-white/10"}):e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-brand flex items-center justify-center text-white text-2xl sm:text-3xl font-bold",children:((Y=t.display_name)==null?void 0:Y.charAt(0).toUpperCase())||"U"}),e.jsx("label",{htmlFor:"avatar-upload",className:`absolute inset-0 rounded-full bg-black/50 flex items-center justify-center cursor-pointer transition-opacity hover:opacity-100 ${j?"opacity-100":"opacity-0"}`,children:j?e.jsx("div",{className:"text-white text-xs font-medium",children:"Uploading..."}):e.jsx("div",{className:"text-white text-xs font-medium",children:"Change"})}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:O,disabled:j,className:"hidden"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-white text-base sm:text-lg truncate",children:t.display_name}),e.jsxs("p",{className:"text-moon-grey text-sm sm:text-base truncate",children:["@",t.username]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{htmlFor:"avatar-upload-button",className:"btn btn-secondary cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Uploading...":"Upload Avatar"}),e.jsx("input",{id:"avatar-upload-button",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:O,disabled:j,className:"hidden"}),e.jsx("p",{className:"text-xs text-moon-grey-dark",children:"JPEG, PNG, GIF, or WebP. Max 10MB. Images are moderated for inappropriate content."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Display Name"}),e.jsx("input",{type:"text",value:q,onChange:s=>{V(s.target.value),p(null)},className:"input w-full",placeholder:"Your display name",maxLength:50}),e.jsx("p",{className:"text-xs text-moon-grey-dark mt-1",children:"Display names must be unique and can only be changed once every 30 days"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Username"}),e.jsx("input",{type:"text",value:t.username,className:"input w-full bg-graphite-light/50 cursor-not-allowed opacity-60",placeholder:"Your username",disabled:!0,readOnly:!0}),e.jsx("p",{className:"text-xs text-moon-grey-dark mt-1",children:"Usernames cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Email"}),e.jsx("input",{type:"email",defaultValue:t.email||"",className:"input w-full",placeholder:"your@email.com",disabled:!0,readOnly:!0}),e.jsx("p",{className:"text-xs text-moon-grey-dark mt-1",children:"Used for notifications and account recovery"})]}),B&&e.jsx("div",{className:"p-3 bg-brand-danger/20 border border-brand-danger/30 rounded-xl text-brand-danger text-sm",children:B}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:pe,disabled:G||q.trim()===(t.display_name||""),className:"btn btn-primary w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:G?"Saving...":"Save Changes"})})]})]}),o==="portfolio"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:[e.jsxs("div",{className:"card bg-gradient-to-br from-graphite-deep to-ink",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Total Value"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white truncate",children:n((r==null?void 0:r.total_value)||0)})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Cash Balance"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white truncate",children:n(((H=t==null?void 0:t.wallet)==null?void 0:H.balance_usdc)||0)})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Positions Value"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white truncate",children:n((r==null?void 0:r.positions_value)||0)})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Total P&L"}),e.jsxs("div",{className:`text-lg sm:text-xl lg:text-2xl font-bold truncate ${((r==null?void 0:r.total_pnl)||0)>=0?"text-brand-success":"text-brand-danger"}`,children:[((r==null?void 0:r.total_pnl)||0)>=0?"+":"",n((r==null?void 0:r.total_pnl)||0)]})]})]}),e.jsxs("div",{className:"flex gap-2 border-b border-white/5 pb-2 overflow-x-auto -mx-3 sm:-mx-0 px-3 sm:px-0",children:[e.jsxs("button",{onClick:()=>I("positions"),className:`px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-medium transition-all min-h-[36px] sm:min-h-[40px] whitespace-nowrap flex-shrink-0 ${k==="positions"?"bg-gradient-brand text-white":"bg-graphite-light text-moon-grey hover:text-white"}`,children:["Positions (",T.length,")"]}),e.jsxs("button",{onClick:()=>I("liquidity"),className:`px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-medium transition-all min-h-[36px] sm:min-h-[40px] whitespace-nowrap flex-shrink-0 ${k==="liquidity"?"bg-gradient-brand text-white":"bg-graphite-light text-moon-grey hover:text-white"}`,children:["Liquidity (",U.length,")"]})]}),k==="positions"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Your Positions"}),e.jsx("div",{className:"flex gap-2",children:["open","closed","all"].map(s=>e.jsx("button",{onClick:()=>re(s),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all min-h-[36px] ${A===s?"bg-neon-iris text-white":"bg-graphite-light text-moon-grey hover:text-white"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),C?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((s,l)=>e.jsx("div",{className:"h-24 bg-graphite-light rounded-xl skeleton-pulse"},l))}):T.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-graphite-light flex items-center justify-center mx-auto mb-4",children:e.jsx(ee,{className:"w-6 h-6 sm:w-8 sm:h-8 text-moon-grey-dark"})}),e.jsx("p",{className:"text-moon-grey mb-4 text-sm sm:text-base",children:"No positions yet. Start trading!"}),e.jsx(v,{to:"/markets",className:"btn btn-primary text-sm sm:text-base",children:"Browse Markets"})]}):e.jsx("div",{className:"space-y-3",children:T.map(s=>e.jsx(v,{to:`/market/${s.market_id}`,className:"block p-3 sm:p-4 rounded-xl bg-graphite-light/50 hover:bg-graphite-light transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white mb-1 text-sm sm:text-base truncate",children:s.market_question}),s.option_label&&e.jsx("p",{className:"text-xs sm:text-sm text-neon-iris mb-2 truncate",children:s.option_label}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm",children:[e.jsx("span",{className:`font-medium ${s.side==="yes"?"text-brand-success":"text-brand-danger"}`,children:s.side.toUpperCase()}),e.jsxs("span",{className:"text-moon-grey break-words",children:[se(s.shares)," shares @"," ",ke(s.avg_price)]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"font-semibold text-white text-sm sm:text-base",children:n(s.shares*s.current_price)}),e.jsxs("div",{className:`text-xs sm:text-sm font-medium ${s.pnl>=0?"text-brand-success":"text-brand-danger"}`,children:[s.pnl>=0?"+":"",n(s.pnl)," (",s.pnl_percent>=0?"+":"",s.pnl_percent.toFixed(1),"%)"]})]})]})},s.id))})]}),k==="liquidity"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-6",children:"Liquidity Positions"}),U.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-graphite-light flex items-center justify-center mx-auto mb-4",children:e.jsx(_e,{className:"w-8 h-8 text-moon-grey-dark"})}),e.jsx("p",{className:"text-moon-grey mb-4",children:"No liquidity positions yet"}),e.jsx(v,{to:"/markets",className:"btn btn-primary",children:"Explore Markets"})]}):e.jsx("div",{className:"space-y-3",children:U.map(s=>e.jsx(v,{to:`/market/${s.market_id}`,className:"block p-4 rounded-xl bg-graphite-light/50 hover:bg-graphite-light transition-all ",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white mb-1 truncate",children:s.market_question}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-moon-grey",children:[e.jsxs("span",{children:["Provided:"," ",n(s.liquidity_provided)]}),e.jsxs("span",{children:["Fees:"," ",e.jsxs("span",{className:"text-brand-success",children:["+",n(s.fees_earned)]})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"font-semibold text-white",children:n(s.current_value)}),e.jsxs("div",{className:`text-sm font-medium ${s.pnl>=0?"text-brand-success":"text-brand-danger"}`,children:[s.pnl>=0?"+":"",n(s.pnl)]})]})]})},s.id))})]})]}),o==="activity"&&e.jsxs("div",{className:"space-y-6",children:[t&&e.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto -mx-3 sm:-mx-0 px-3 sm:px-0 pb-2 sm:pb-0",children:fe.map(s=>{const l=s.icon;return e.jsxs("button",{onClick:()=>de(s.id),className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl text-xs sm:text-sm font-medium transition-all min-h-[36px] sm:min-h-[40px] whitespace-nowrap flex-shrink-0 ${_===s.id?"bg-gradient-brand text-white":"bg-graphite-light text-moon-grey  hover:text-white"}`,children:[e.jsx(l,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),s.label]},s.id)})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"relative",children:e.jsxs("span",{className:"flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-success opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-brand-success"})]})}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Transactions"})]}),C?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((s,l)=>e.jsx("div",{className:"h-20 bg-graphite-light rounded-xl skeleton-pulse"},l))}):R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-graphite-light flex items-center justify-center mx-auto mb-4",children:e.jsx(ae,{className:"w-8 h-8 text-moon-grey-dark"})}),e.jsx("p",{className:"text-moon-grey",children:"No activity yet"})]}):e.jsx("div",{className:"space-y-3",children:R.map(s=>e.jsx(ge,{activity:s},s.id))})]})]}),o==="notifications"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Notification Preferences"}),C?e.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((s,l)=>e.jsx("div",{className:"h-16 bg-graphite-light rounded-xl skeleton-pulse"},l))}):h?e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mb-4",children:"Email Notifications"}),e.jsx(M,{enabled:h.email_trade_confirmations,onToggle:()=>$("email_trade_confirmations"),label:"Trade Confirmations",description:"Receive email when your trades are executed"}),e.jsx(M,{enabled:h.email_market_resolutions,onToggle:()=>$("email_market_resolutions"),label:"Market Resolutions",description:"Get notified when markets you traded on resolve"}),e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mt-8 mb-4",children:"Push Notifications"}),e.jsx(M,{enabled:h.push_enabled,onToggle:()=>$("push_enabled"),label:"Enable Push Notifications",description:"Receive browser push notifications"})]}):e.jsx("p",{className:"text-moon-grey",children:"Failed to load preferences. Please try again."})]}),o==="security"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Security Settings"}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-white/5",children:[e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mb-4",children:"Connected Wallet"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-graphite-light rounded-xl ",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-neon-iris/20 flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-neon-iris"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Solana Wallet"}),e.jsxs("p",{className:"text-sm text-moon-grey font-mono",children:[(Q=(K=t.wallet)==null?void 0:K.publicKey)==null?void 0:Q.toString().slice(0,8),"...",(Z=(X=t.wallet)==null?void 0:X.publicKey)==null?void 0:Z.toString().slice(-8)]})]})]}),e.jsx("span",{className:"px-2 py-1 bg-brand-success/20 text-brand-success text-xs rounded-full ",children:"Connected"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mb-4",children:"Active Sessions"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-graphite-light rounded-xl ",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-graphite-hover flex items-center justify-center",children:e.jsx(Re,{className:"w-5 h-5 text-moon-grey"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Current Session"}),e.jsx("p",{className:"text-sm text-moon-grey",children:"Chrome on macOS â€¢ Now"})]})]}),e.jsx("span",{className:"text-brand-success text-sm",children:"Active"})]})}),e.jsx("button",{className:"mt-4 text-brand-danger hover:text-brand-danger/80 text-sm font-medium transition-colors",children:"Sign out of all other sessions"})]})]})]})]})]})]})};export{Ke as Settings};
