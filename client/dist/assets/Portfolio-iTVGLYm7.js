import{c as S,i as R,r as o,af as Y,n as B,ag as W,ah as H,j as e,m as l,ai as P,b as n,aj as q,W as V,L as g,ak as O,a3 as G,al as C}from"./index-4FQH80kW.js";import{T as J}from"./trending-down-Cr2dd-Dw.js";import{A as u,a as $}from"./arrow-up-right-ipjrfKf6.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Q=S("chart-pie",K);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Z=S("dollar-sign",X),N={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.25,.1,.25,1]}},y={animate:{transition:{staggerChildren:.08}}},ae=()=>{var _;const{user:t}=R(),[a,b]=o.useState("positions"),[c,h]=o.useState("open"),[i,j]=o.useState(null),[x,T]=o.useState([]),[v,D]=o.useState([]),[r,A]=o.useState(null),[f,w]=o.useState(!0);o.useEffect(()=>{t&&F()},[t,c]);const F=async()=>{w(!0);try{const[s,d,E,M]=await Promise.all([Y(),B({status:c}),W(),H()]);j(s),T(d.positions),D(E.positions),A(M)}catch(s){console.error("Failed to load portfolio:",s)}finally{w(!1)}},I=[{id:"positions",label:"Positions",count:x.length},{id:"liquidity",label:"Liquidity",count:v.length}];if(!t)return e.jsxs("div",{className:"min-h-screen bg-ink-black overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_50%_at_50%_-20%,rgba(124,77,255,0.1),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_60%_40%_at_80%_100%,rgba(33,246,210,0.06),transparent_50%)]"})]}),e.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-4",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 border border-white/10 mb-8",children:e.jsx(P,{className:"w-10 h-10 text-moon-grey/60"})}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-extralight tracking-tight text-white mb-4",children:"Portfolio"}),e.jsx("p",{className:"text-moon-grey/60 text-base sm:text-lg font-light",children:"Connect your wallet to view your portfolio"})]})})]});const k=(i==null?void 0:i.total_pnl)||0,U=(i==null?void 0:i.total_pnl_percent)||0,p=k>=0;return e.jsxs("div",{className:"min-h-screen bg-ink-black overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_50%_at_50%_-20%,rgba(124,77,255,0.12),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_60%_40%_at_80%_100%,rgba(33,246,210,0.06),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02] hidden sm:block",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                             linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)`,backgroundSize:"60px 60px"}})]}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-neon-iris/20 to-transparent"}),e.jsxs("div",{className:"relative z-10 section-container py-12 sm:py-16 lg:py-20",children:[e.jsxs(l.div,{className:"mb-12 sm:mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.25em] uppercase text-neon-iris/80 font-medium mb-4",children:"Your Portfolio"}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extralight tracking-tight text-white mb-4",children:"Performance"}),e.jsx("p",{className:"text-moon-grey/60 text-base sm:text-lg font-light max-w-xl",children:"Track your trading positions, liquidity provisions, and overall performance."})]}),e.jsxs(l.div,{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-12",variants:y,initial:"initial",animate:"animate",children:[e.jsx(m,{label:"Total Value",value:n((i==null?void 0:i.total_value)||0),sublabel:"Cash + Positions + LP",icon:e.jsx(Z,{className:"w-4 h-4"}),index:0}),e.jsx(m,{label:"Cash Balance",value:n(((_=t==null?void 0:t.wallet)==null?void 0:_.balance_usdc)||0),sublabel:"Available to trade",icon:e.jsx(P,{className:"w-4 h-4"}),index:1}),e.jsx(m,{label:"Positions Value",value:n((i==null?void 0:i.positions_value)||0),sublabel:`${x.length} ${x.length===1?"position":"positions"}`,icon:e.jsx(q,{className:"w-4 h-4"}),index:2}),e.jsx(m,{label:"Total P&L",value:`${p?"+":""}${n(k)}`,sublabel:`${p?"+":""}${U.toFixed(2)}% all time`,icon:p?e.jsx(V,{className:"w-4 h-4"}):e.jsx(J,{className:"w-4 h-4"}),variant:p?"success":"danger",index:3})]}),r&&e.jsxs(l.div,{className:"bg-graphite-deep/60 backdrop-blur-sm border border-white/5 p-6 sm:p-8 mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Q,{className:"w-5 h-5 text-neon-iris/60"}),e.jsx("h2",{className:"text-lg sm:text-xl font-light text-white",children:"Performance Summary"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-2",children:"Realized P&L"}),e.jsxs("div",{className:`text-xl sm:text-2xl font-light tabular-nums ${r.realized_pnl>=0?"text-aqua-pulse":"text-danger-400"}`,children:[r.realized_pnl>=0?"+":"",n(r.realized_pnl)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-2",children:"Unrealized P&L"}),e.jsxs("div",{className:`text-xl sm:text-2xl font-light tabular-nums ${r.unrealized_pnl>=0?"text-aqua-pulse":"text-danger-400"}`,children:[r.unrealized_pnl>=0?"+":"",n(r.unrealized_pnl)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-2",children:"Best Trade"}),r.best_trade?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-light text-aqua-pulse tabular-nums",children:["+",n(r.best_trade.pnl)]}),e.jsx("div",{className:"text-xs text-moon-grey/50 truncate mt-1",children:r.best_trade.market})]}):e.jsx("div",{className:"text-xl sm:text-2xl font-light text-moon-grey/30",children:"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50 mb-2",children:"Worst Trade"}),r.worst_trade?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl sm:text-2xl font-light text-danger-400 tabular-nums",children:n(r.worst_trade.pnl)}),e.jsx("div",{className:"text-xs text-moon-grey/50 truncate mt-1",children:r.worst_trade.market})]}):e.jsx("div",{className:"text-xl sm:text-2xl font-light text-moon-grey/30",children:"—"})]})]})]}),e.jsx(l.div,{className:"flex items-center gap-1 mb-8 border-b border-white/5",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:I.map(s=>e.jsxs("button",{onClick:()=>b(s.id),className:`px-5 sm:px-6 py-3 sm:py-4 font-medium text-sm tracking-wide transition-all relative ${a===s.id?"text-white":"text-moon-grey/60 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"uppercase text-xs sm:text-sm tracking-[0.1em]",children:s.label}),s.count!==void 0&&e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${a===s.id?"text-neon-iris":"text-moon-grey/40"}`,children:s.count})]}),a===s.id&&e.jsx(l.div,{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-neon-iris to-aqua-pulse",layoutId:"tabIndicator"})]},s.id))}),a==="positions"&&e.jsxs(l.div,{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("div",{className:"p-5 sm:p-6 border-b border-white/5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-light text-white",children:"Trading Positions"}),e.jsx("div",{className:"flex gap-2",children:["open","closed","all"].map(s=>e.jsx("button",{onClick:()=>h(s),className:`px-4 py-2 text-xs font-medium transition-all uppercase tracking-[0.15em] ${c===s?"bg-white text-ink-black":"bg-transparent border border-white/10 text-moon-grey/60 hover:text-white hover:border-white/20"}`,children:s},s))})]})}),e.jsx("div",{className:"p-5 sm:p-6",children:f?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((s,d)=>e.jsx("div",{className:"h-24 bg-white/[0.02] border border-white/5 animate-pulse"},d))}):x.length===0?e.jsxs("div",{className:"text-center py-16 sm:py-24",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 border border-white/10 mb-6",children:e.jsx(q,{className:"w-8 h-8 text-moon-grey/40"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-light text-white mb-3",children:c==="open"?"No Open Positions":c==="closed"?"No Closed Positions":"No Positions"}),e.jsx("p",{className:"text-moon-grey/60 mb-8 max-w-sm mx-auto font-light",children:c==="open"?"You don't have any active trading positions at the moment.":c==="closed"?"You haven't closed any positions yet.":"Start trading to build your portfolio."}),e.jsxs(g,{to:"/markets",className:"group inline-flex items-center gap-2 px-6 py-3 bg-white text-ink-black font-medium text-sm tracking-wide uppercase hover:bg-moon-grey-light transition-all",children:[e.jsx("span",{children:"Browse Markets"}),e.jsx(u,{className:"w-4 h-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})]}):e.jsx(l.div,{className:"space-y-3",variants:y,initial:"initial",animate:"animate",children:x.map(s=>e.jsx(L,{position:s},s.id))})})]}),a==="liquidity"&&e.jsxs(l.div,{className:"bg-graphite-deep/40 backdrop-blur-sm border border-white/5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("div",{className:"p-5 sm:p-6 border-b border-white/5",children:e.jsx("h2",{className:"text-lg sm:text-xl font-light text-white",children:"Liquidity Positions"})}),e.jsx("div",{className:"p-5 sm:p-6",children:f?e.jsx("div",{className:"space-y-3",children:Array.from({length:2}).map((s,d)=>e.jsx("div",{className:"h-24 bg-white/[0.02] border border-white/5 animate-pulse"},d))}):v.length===0?e.jsxs("div",{className:"text-center py-16 sm:py-24",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 border border-white/10 mb-6",children:e.jsx(O,{className:"w-8 h-8 text-moon-grey/40"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-light text-white mb-3",children:"No Liquidity Positions"}),e.jsx("p",{className:"text-moon-grey/60 mb-8 max-w-sm mx-auto font-light",children:"You haven't provided liquidity to any markets yet. Earn fees by adding liquidity to active markets."}),e.jsxs(g,{to:"/markets",className:"group inline-flex items-center gap-2 px-6 py-3 bg-white text-ink-black font-medium text-sm tracking-wide uppercase hover:bg-moon-grey-light transition-all",children:[e.jsx("span",{children:"Explore Markets"}),e.jsx(u,{className:"w-4 h-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})]}):e.jsx(l.div,{className:"space-y-3",variants:y,initial:"initial",animate:"animate",children:v.map(s=>e.jsx(z,{position:s},s.id))})})]})]})]})},m=o.memo(({label:t,value:a,sublabel:b,icon:c,variant:h="default",index:i})=>{const j=h==="success"?"text-aqua-pulse":h==="danger"?"text-danger-400":"text-white";return e.jsxs(l.div,{className:"bg-graphite-deep/60 backdrop-blur-sm border border-white/5 p-5 sm:p-6 hover:border-white/10 transition-all duration-300",variants:N,custom:i,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/50",children:t}),e.jsx("div",{className:"text-moon-grey/40",children:c})]}),e.jsx("div",{className:`text-xl sm:text-2xl font-light ${j} mb-1 tabular-nums`,children:a}),e.jsx("div",{className:"text-[10px] sm:text-xs text-moon-grey/40",children:b})]})});m.displayName="StatCard";const L=o.memo(({position:t})=>{const a=t.pnl>=0;return e.jsx(l.div,{variants:N,children:e.jsx(g,{to:`/market/${t.market_id}`,className:"block bg-white/[0.02] border border-white/5 p-5 sm:p-6 hover:border-white/10 hover:bg-white/[0.04] transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-start justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("h3",{className:"text-base sm:text-lg font-light text-white group-hover:text-neon-iris transition-colors line-clamp-2",children:t.market_question}),t.is_resolved&&e.jsx("span",{className:"px-2 py-1 bg-aqua-pulse/10 text-aqua-pulse text-[10px] tracking-[0.1em] uppercase flex-shrink-0",children:"Resolved"})]}),t.option_label&&e.jsx("p",{className:"text-sm text-neon-iris/80 mb-3",children:t.option_label}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsx("span",{className:`px-2.5 py-1 text-[10px] tracking-[0.15em] uppercase font-medium ${t.side==="yes"?"bg-aqua-pulse/10 text-aqua-pulse":"bg-danger-400/10 text-danger-400"}`,children:t.side}),e.jsxs("span",{className:"text-moon-grey/60 font-light",children:[e.jsx("span",{className:"text-white",children:G(t.shares)})," ","shares @ ",e.jsx("span",{className:"text-white",children:C(t.avg_price)})]}),e.jsxs("span",{className:"text-moon-grey/60 font-light hidden sm:inline",children:["Current: ",e.jsx("span",{className:"text-white",children:C(t.current_price)})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-lg sm:text-xl font-light text-white mb-1 tabular-nums",children:n(t.shares*t.current_price)}),e.jsxs("div",{className:`text-sm font-medium tabular-nums flex items-center justify-end gap-1 ${a?"text-aqua-pulse":"text-danger-400"}`,children:[a?e.jsx(u,{className:"w-4 h-4"}):e.jsx($,{className:"w-4 h-4"}),a?"+":"",n(t.pnl)]}),e.jsxs("div",{className:`text-xs mt-1 ${a?"text-aqua-pulse/70":"text-danger-400/70"}`,children:[a?"+":"",t.pnl_percent.toFixed(2),"%"]})]})]})})})});L.displayName="PositionCard";const z=o.memo(({position:t})=>{const a=t.pnl>=0;return e.jsx(l.div,{variants:N,children:e.jsx(g,{to:`/market/${t.market_id}`,className:"block bg-white/[0.02] border border-white/5 p-5 sm:p-6 hover:border-white/10 hover:bg-white/[0.04] transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-start justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-light text-white mb-3 group-hover:text-neon-iris transition-colors line-clamp-2",children:t.market_question}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 text-sm",children:[e.jsxs("span",{className:"text-moon-grey/60 font-light",children:["Provided:"," ",e.jsx("span",{className:"text-white",children:n(t.liquidity_provided)})]}),e.jsxs("span",{className:"text-moon-grey/60 font-light",children:["Fees:"," ",e.jsxs("span",{className:"text-aqua-pulse",children:["+",n(t.fees_earned)]})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-lg sm:text-xl font-light text-white mb-1 tabular-nums",children:n(t.current_value)}),e.jsxs("div",{className:`text-sm font-medium tabular-nums flex items-center justify-end gap-1 ${a?"text-aqua-pulse":"text-danger-400"}`,children:[a?e.jsx(u,{className:"w-4 h-4"}):e.jsx($,{className:"w-4 h-4"}),a?"+":"",n(t.pnl)]})]})]})})})});z.displayName="LiquidityCard";export{ae as Portfolio};
