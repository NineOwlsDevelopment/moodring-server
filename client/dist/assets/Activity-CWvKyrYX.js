import{c as y,i as j,r as p,am as f,j as e,m as l,W as N,aj as b,ai as w,an as v,L as u,U as k,y as _,ao as q,b as r,a3 as A}from"./index-4FQH80kW.js";import{A as C}from"./activity-CFr3gsSv.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],T=y("trophy",M),L={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1]}},S={animate:{transition:{staggerChildren:.08}}},U=a=>a.type||a.activity_type||"unknown",D=({activity:a})=>{const t=(()=>{if(!a.metadata)return{};if(typeof a.metadata=="string")try{return JSON.parse(a.metadata)}catch{return{}}return a.metadata})(),n=U(a),m=()=>{var x;switch(n){case"trade":const s=t.side||t.option_side,o=t.trade_type||t.action,g=t.quantity||t.shares||0,h=t.amount||t.cost||t.total_cost||0;return e.jsxs("span",{className:"flex flex-wrap items-center gap-1",children:[e.jsxs("span",{className:`font-medium ${s==="yes"?"text-aqua-pulse":"text-rose-400"}`,children:[o==="buy"?"Bought":"Sold"," ",A(g)," ",s==null?void 0:s.toUpperCase()]}),e.jsx("span",{className:"text-moon-grey/60",children:"shares"}),h>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-moon-grey/60",children:"for"}),e.jsx("span",{className:"font-medium text-white",children:r(h)})]})]});case"market_created":case"market_initialized":return e.jsx("span",{className:"text-moon-grey/60",children:"Created a new market"});case"market_resolved":return e.jsxs("span",{className:"flex items-center gap-1 flex-wrap",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Market resolved:"}),e.jsx("span",{className:"font-medium text-neon-iris",children:t.outcome||((x=t.winning_side)==null?void 0:x.toUpperCase())})]});case"deposit":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Deposited"}),e.jsx("span",{className:"font-medium text-aqua-pulse",children:r(t.amount||0)})]});case"withdrawal":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Withdrew"}),e.jsx("span",{className:"font-medium text-amber-400",children:r(t.amount||0)})]});case"claim":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Claimed"}),e.jsx("span",{className:"font-medium text-aqua-pulse",children:r(t.payout||0)})]});case"lp_rewards_claimed":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Claimed LP rewards"}),e.jsx("span",{className:"font-medium text-aqua-pulse",children:r(t.usdc_payout||0)})]});case"liquidity_added":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Added liquidity:"}),e.jsx("span",{className:"font-medium text-aqua-pulse",children:r(t.amount||0)})]});case"liquidity_removed":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey/60",children:"Removed liquidity:"}),e.jsx("span",{className:"font-medium text-amber-400",children:r(t.amount||0)})]});case"user_joined":return e.jsx("span",{className:"text-moon-grey/60",children:"Joined the platform"});case"comment":return e.jsx("span",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-moon-grey/60",children:"Commented on market"})});default:return e.jsx("span",{className:"text-moon-grey/60 capitalize",children:n.replace(/_/g," ")})}},i=a.market_id||t.market_id||(n==="market_created"&&a.entity_type==="market"?a.entity_id:null),d=a.market_question||t.market_question||(n==="market_created"?t.question:null);return e.jsxs(l.div,{variants:L,className:"flex items-start gap-4 p-5 bg-graphite-deep/50 border border-white/5 hover:border-white/10 transition-colors duration-300",children:[a.username&&e.jsx(k,{name:a.username,imageUrl:a.avatar_url,size:"md"}),e.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsxs("div",{className:"text-sm leading-relaxed flex flex-wrap items-center gap-x-1.5",children:[a.username&&e.jsxs("span",{className:"font-medium text-white truncate max-w-[140px] inline-block align-middle",children:["@",a.username]}),m()]}),i&&d&&e.jsx(u,{to:`/market/${i}`,className:"text-neon-iris/80 hover:text-neon-iris text-sm font-light line-clamp-1 mt-2 transition-colors block",children:d})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] tracking-[0.1em] uppercase text-moon-grey/50 flex-shrink-0 whitespace-nowrap",children:[e.jsx(q,{className:"w-3 h-3"}),_(Number(a.created_at))]})]})})]})},H=[{id:"all",label:"All",icon:N},{id:"trade",label:"Trades",icon:b},{id:"deposit",label:"Deposits",icon:w},{id:"withdrawal",label:"Withdrawals",icon:v},{id:"claim",label:"Claims",icon:T}],W=()=>{const{user:a}=j(),[c,t]=p.useState([]),[n,m]=p.useState(!0),[i,d]=p.useState("all");p.useEffect(()=>{x()},[i,a]);const x=async()=>{m(!0);try{if(a){const{activities:s}=await f({type:i!=="all"?i:void 0});t(s)}else t([])}catch(s){console.error("Failed to load activities:",s)}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-ink-black pb-20 md:pb-8",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_50%_at_50%_-20%,rgba(124,77,255,0.08),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_60%_40%_at_80%_100%,rgba(33,246,210,0.05),transparent_50%)]"})]}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-neon-iris/20 to-transparent"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-px w-8 sm:w-12 bg-gradient-to-r from-transparent to-neon-iris/60"}),e.jsx("span",{className:"text-[10px] sm:text-xs tracking-[0.3em] uppercase text-moon-grey/70 font-medium",children:"Transaction History"}),e.jsx("div",{className:"h-px w-8 sm:w-12 bg-gradient-to-l from-transparent to-neon-iris/60"})]}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-extralight tracking-tight text-white mb-3",children:"Activity"}),e.jsx("p",{className:"text-moon-grey/60 text-base font-light",children:"Track your transactions and trading history"})]}),a&&e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},className:"mb-10",children:[e.jsx("div",{className:"text-[10px] tracking-[0.2em] uppercase text-moon-grey/50 mb-4 font-medium",children:"Filter by type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(s=>{const o=s.icon;return e.jsxs("button",{onClick:()=>d(s.id),className:`flex items-center gap-2 px-4 py-2.5 text-xs tracking-wide uppercase font-medium transition-all duration-300 border ${i===s.id?"bg-white text-ink-black border-white":"bg-transparent text-moon-grey/60 border-white/10 hover:border-white/20 hover:text-white"}`,children:[e.jsx(o,{className:"w-3.5 h-3.5"}),s.label]},s.id)})})]}),e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"bg-graphite-deep/30 border border-white/5",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-white/5 flex items-center gap-3",children:[e.jsx("div",{className:"relative",children:e.jsxs("span",{className:"flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-aqua-pulse opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-aqua-pulse"})]})}),e.jsx("h2",{className:"text-sm tracking-[0.15em] uppercase text-moon-grey/70 font-medium",children:"Recent Transactions"})]}),e.jsx("div",{className:"p-4",children:n?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((s,o)=>e.jsx("div",{className:"h-20 bg-graphite-deep/50 border border-white/5 animate-pulse"},o))}):c.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-16 h-16 border border-white/10 flex items-center justify-center mb-6",children:e.jsx(C,{className:"w-7 h-7 text-moon-grey/40"})}),e.jsx("h3",{className:"text-xl font-light text-white mb-3",children:"No activity yet"}),e.jsx("p",{className:"text-moon-grey/60 text-center max-w-sm mb-8 font-light",children:a?"Start trading to see your transaction history here.":"Please log in to view your activity."}),a&&e.jsxs(u,{to:"/markets",className:"group px-6 py-3 text-sm font-medium tracking-wide uppercase bg-white text-ink-black hover:bg-moon-grey-light transition-all duration-300 inline-flex items-center gap-3",children:[e.jsx("span",{children:"Browse Markets"}),e.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]}):e.jsx(l.div,{variants:S,initial:"initial",animate:"animate",className:"space-y-2",children:c.map(s=>e.jsx(D,{activity:s},s.id))})})]}),!n&&c.length>0&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-8",children:e.jsx("button",{className:"text-xs tracking-[0.2em] uppercase text-moon-grey/50 hover:text-white transition-colors duration-300 font-medium",children:"Load more activity"})})]})]})};export{W as Activity};
