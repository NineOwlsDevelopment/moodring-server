import{c as k,d as F,r as l,ad as E,k as M,ae as R,af as U,j as e,ag as N,h as a,ah as v,V as B,L as x,a1 as V,ai as f}from"./index-BvLxgWIs.js";import{T as Y,A as h,a as w}from"./trending-down-CckRvmRb.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],y=k("chart-pie",H);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],W=k("dollar-sign",I),J=()=>{var j;const{user:d}=F(),[o,P]=l.useState("positions"),[n,_]=l.useState("open"),[r,q]=l.useState(null),[c,S]=l.useState([]),[u,L]=l.useState([]),[i,$]=l.useState(null),[g,p]=l.useState(!0);l.useEffect(()=>{d&&C()},[d,n]);const C=async()=>{p(!0);try{const[s,t,D,A]=await Promise.all([E(),M({status:n}),R(),U()]);q(s),S(t.positions),L(D.positions),$(A)}catch(s){console.error("Failed to load portfolio:",s)}finally{p(!1)}},z=[{id:"positions",label:"Positions",count:c.length},{id:"liquidity",label:"Liquidity",count:u.length}];if(!d)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-graphite-light border border-white/10 mb-6",children:e.jsx(N,{className:"w-8 h-8 text-moon-grey"})}),e.jsx("h1",{className:"text-3xl font-semibold text-white mb-3",children:"Portfolio"}),e.jsx("p",{className:"text-moon-grey",children:"Connect your wallet to view your portfolio"})]})});const b=(r==null?void 0:r.total_pnl)||0,T=(r==null?void 0:r.total_pnl_percent)||0,m=b>=0;return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-semibold text-white mb-2",children:"Portfolio"}),e.jsx("p",{className:"text-moon-grey text-sm",children:"Comprehensive view of your trading positions and performance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-graphite-deep border border-white/10 rounded-xl p-5 hover:border-white/20 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider",children:"Total Value"}),e.jsx(W,{className:"w-4 h-4 text-moon-grey-dark"})]}),e.jsx("div",{className:"text-2xl font-semibold text-white mb-1 tabular-nums",children:a((r==null?void 0:r.total_value)||0)}),e.jsx("div",{className:"text-xs text-moon-grey-dark",children:"Cash + Positions + Liquidity"})]}),e.jsxs("div",{className:"bg-graphite-deep border border-white/10 rounded-xl p-5 hover:border-white/20 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider",children:"Cash Balance"}),e.jsx(N,{className:"w-4 h-4 text-moon-grey-dark"})]}),e.jsx("div",{className:"text-2xl font-semibold text-white mb-1 tabular-nums",children:a(((j=d==null?void 0:d.wallet)==null?void 0:j.balance_usdc)||0)}),e.jsx("div",{className:"text-xs text-moon-grey-dark",children:"Available to trade"})]}),e.jsxs("div",{className:"bg-graphite-deep border border-white/10 rounded-xl p-5 hover:border-white/20 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider",children:"Positions Value"}),e.jsx(v,{className:"w-4 h-4 text-moon-grey-dark"})]}),e.jsx("div",{className:"text-2xl font-semibold text-white mb-1 tabular-nums",children:a((r==null?void 0:r.positions_value)||0)}),e.jsxs("div",{className:"text-xs text-moon-grey-dark",children:[c.length," ",c.length===1?"position":"positions"]})]}),e.jsxs("div",{className:"bg-graphite-deep border border-white/10 rounded-xl p-5 hover:border-white/20 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider",children:"Total P&L"}),m?e.jsx(B,{className:"w-4 h-4 text-aqua-pulse"}):e.jsx(Y,{className:"w-4 h-4 text-danger-400"})]}),e.jsxs("div",{className:`text-2xl font-semibold mb-1 tabular-nums ${m?"text-aqua-pulse":"text-danger-400"}`,children:[m?"+":"",a(b)]}),e.jsxs("div",{className:`text-xs font-medium ${m?"text-aqua-pulse":"text-danger-400"}`,children:[m?"+":"",T.toFixed(2),"% all time"]})]})]}),i&&e.jsxs("div",{className:"bg-graphite-deep border border-white/10 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[e.jsx(y,{className:"w-5 h-5 text-moon-grey"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance Summary"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider mb-2",children:"Realized P&L"}),e.jsxs("div",{className:`text-xl font-semibold tabular-nums ${i.realized_pnl>=0?"text-aqua-pulse":"text-danger-400"}`,children:[i.realized_pnl>=0?"+":"",a(i.realized_pnl)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider mb-2",children:"Unrealized P&L"}),e.jsxs("div",{className:`text-xl font-semibold tabular-nums ${i.unrealized_pnl>=0?"text-aqua-pulse":"text-danger-400"}`,children:[i.unrealized_pnl>=0?"+":"",a(i.unrealized_pnl)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider mb-2",children:"Best Trade"}),i.best_trade?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-semibold text-aqua-pulse tabular-nums",children:["+",a(i.best_trade.pnl)]}),e.jsx("div",{className:"text-xs text-moon-grey-dark truncate mt-1",children:i.best_trade.market})]}):e.jsx("div",{className:"text-xl font-semibold text-moon-grey-dark",children:"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-moon-grey-dark uppercase tracking-wider mb-2",children:"Worst Trade"}),i.worst_trade?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-semibold text-danger-400 tabular-nums",children:a(i.worst_trade.pnl)}),e.jsx("div",{className:"text-xs text-moon-grey-dark truncate mt-1",children:i.worst_trade.market})]}):e.jsx("div",{className:"text-xl font-semibold text-moon-grey-dark",children:"—"})]})]})]}),e.jsx("div",{className:"flex items-center gap-1 mb-6 border-b border-white/10",children:z.map(s=>e.jsxs("button",{onClick:()=>P(s.id),className:`px-5 py-3 font-medium text-sm transition-all relative ${o===s.id?"text-white":"text-moon-grey hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:s.label}),s.count!==void 0&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${o===s.id?"bg-neon-iris/20 text-neon-iris":"bg-graphite-light text-moon-grey-dark"}`,children:s.count})]}),o===s.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-neon-iris"})]},s.id))}),o==="positions"&&e.jsxs("div",{className:"bg-graphite-deep border border-white/10 rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Trading Positions"}),e.jsx("div",{className:"flex gap-2",children:["open","closed","all"].map(s=>e.jsx("button",{onClick:()=>_(s),className:`px-4 py-2 rounded-lg text-xs font-medium transition-all uppercase tracking-wider ${n===s?"bg-neon-iris text-white":"bg-graphite-light text-moon-grey hover:text-white hover:bg-graphite-hover"}`,children:s},s))})]})}),e.jsx("div",{className:"p-6",children:g?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((s,t)=>e.jsx("div",{className:"h-20 bg-graphite-light rounded-lg animate-pulse"},t))}):c.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-graphite-light border border-white/10 mb-4",children:e.jsx(v,{className:"w-8 h-8 text-moon-grey-dark"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:n==="open"?"No Open Positions":n==="closed"?"No Closed Positions":"No Positions"}),e.jsx("p",{className:"text-moon-grey mb-6 max-w-sm mx-auto",children:n==="open"?"You don't have any active trading positions at the moment.":n==="closed"?"You haven't closed any positions yet.":"Start trading to build your portfolio."}),e.jsxs(x,{to:"/markets",className:"inline-flex items-center gap-2 px-6 py-3 bg-neon-iris text-white font-medium rounded-lg hover:bg-neon-iris-light transition-colors",children:["Browse Markets",e.jsx(h,{className:"w-4 h-4"})]})]}):e.jsx("div",{className:"space-y-3",children:c.map(s=>{const t=s.pnl>=0;return e.jsx(x,{to:`/market/${s.market_id}`,className:"block bg-graphite-light border border-white/10 rounded-lg p-5 hover:border-white/20 hover:bg-graphite-hover transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("h3",{className:"font-semibold text-white group-hover:text-neon-iris transition-colors truncate",children:s.market_question}),s.is_resolved&&e.jsx("span",{className:"px-2 py-1 bg-aqua-pulse/10 text-aqua-pulse rounded text-xs font-medium flex-shrink-0",children:"Resolved"})]}),s.option_label&&e.jsx("p",{className:"text-sm text-neon-iris mb-3",children:s.option_label}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-2.5 py-1 rounded font-medium text-xs uppercase tracking-wider ${s.side==="yes"?"bg-aqua-pulse/10 text-aqua-pulse":"bg-danger-400/10 text-danger-400"}`,children:s.side})}),e.jsxs("div",{className:"text-moon-grey",children:[e.jsx("span",{className:"font-medium text-white",children:V(s.shares)})," ","shares @"," ",e.jsx("span",{className:"font-medium text-white",children:f(s.avg_price)})]}),e.jsxs("div",{className:"text-moon-grey",children:["Current:"," ",e.jsx("span",{className:"font-medium text-white",children:f(s.current_price)})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-lg font-semibold text-white mb-1 tabular-nums",children:a(s.shares*s.current_price)}),e.jsxs("div",{className:`text-sm font-semibold tabular-nums flex items-center justify-end gap-1 ${t?"text-aqua-pulse":"text-danger-400"}`,children:[t?e.jsx(h,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"}),t?"+":"",a(s.pnl)]}),e.jsxs("div",{className:`text-xs font-medium mt-1 ${t?"text-aqua-pulse":"text-danger-400"}`,children:[t?"+":"",s.pnl_percent.toFixed(2),"%"]})]})]})},s.id)})})})]}),o==="liquidity"&&e.jsxs("div",{className:"bg-graphite-deep border border-white/10 rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Liquidity Positions"})}),e.jsx("div",{className:"p-6",children:g?e.jsx("div",{className:"space-y-3",children:Array.from({length:2}).map((s,t)=>e.jsx("div",{className:"h-20 bg-graphite-light rounded-lg animate-pulse"},t))}):u.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-graphite-light border border-white/10 mb-4",children:e.jsx(y,{className:"w-8 h-8 text-moon-grey-dark"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Liquidity Positions"}),e.jsx("p",{className:"text-moon-grey mb-6 max-w-sm mx-auto",children:"You haven't provided liquidity to any markets yet. Earn fees by adding liquidity to active markets."}),e.jsxs(x,{to:"/markets",className:"inline-flex items-center gap-2 px-6 py-3 bg-neon-iris text-white font-medium rounded-lg hover:bg-neon-iris-light transition-colors",children:["Explore Markets",e.jsx(h,{className:"w-4 h-4"})]})]}):e.jsx("div",{className:"space-y-3",children:u.map(s=>{const t=s.pnl>=0;return e.jsx(x,{to:`/market/${s.market_id}`,className:"block bg-graphite-light border border-white/10 rounded-lg p-5 hover:border-white/20 hover:bg-graphite-hover transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white mb-3 group-hover:text-neon-iris transition-colors truncate",children:s.market_question}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm",children:[e.jsxs("div",{className:"text-moon-grey",children:["Provided:"," ",e.jsx("span",{className:"font-medium text-white",children:a(s.liquidity_provided)})]}),e.jsxs("div",{className:"text-moon-grey",children:["Fees earned:"," ",e.jsxs("span",{className:"font-medium text-aqua-pulse",children:["+",a(s.fees_earned)]})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-lg font-semibold text-white mb-1 tabular-nums",children:a(s.current_value)}),e.jsxs("div",{className:`text-sm font-semibold tabular-nums flex items-center justify-end gap-1 ${t?"text-aqua-pulse":"text-danger-400"}`,children:[t?e.jsx(h,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"}),t?"+":"",a(s.pnl)]})]})]})},s.id)})})})]})]})};export{J as Portfolio};
