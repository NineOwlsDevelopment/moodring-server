import{c as k,d as L,r as l,ak as Ne,a6 as ve,l as we,a7 as ke,aa as _e,ab as Pe,j as e,al as ae,ag as ie,am as Se,i as r,ad as le,L as w,h as S,Z as ne,a9 as Ce,ac as Ae,ae as Te,af as Fe,an as Ue,ao as qe,V as $e,ah as De,x as re,ap as Me}from"./index-w0iIjARP.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Le=k("briefcase",Ee);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ze=k("credit-card",Ie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ve=k("droplets",Re);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],We=k("laptop",Ge);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Je=k("shield",Be),Oe=["moodring","admin","administrator","moderator","mod","support","staff","team","official","system","root","owner","founder","ceo","developer","dev","api","bot","service"],Ye=t=>Oe.some(o=>o.toLowerCase()===t.trim().toLowerCase()),He=t=>t.type||t.activity_type||"unknown",Qe=()=>{var K,Q,Z,X,ee,se;const{user:t}=L(),[o,ce]=l.useState("profile"),[h,C]=l.useState(null),[A,f]=l.useState(!0),[I,b]=l.useState(null),[T,oe]=l.useState("open"),[n,de]=l.useState(null),[F,me]=l.useState([]),[U,xe]=l.useState([]),[_,z]=l.useState("positions"),[j,R]=l.useState("my"),[V,G]=l.useState([]),[P,he]=l.useState("all"),[q,W]=l.useState(""),[B,p]=l.useState(null),[J,$]=l.useState(!1),[N,O]=l.useState(!1),[Y,D]=l.useState(null);l.useEffect(()=>{t&&(pe(),W(t.display_name||""))},[t]),l.useEffect(()=>{t&&o==="portfolio"&&ue()},[t,o,T]),l.useEffect(()=>{o==="activity"&&ge()},[o,j,P,t]);const pe=async()=>{f(!0);try{const s=await Ne();C(s)}catch(s){console.error("Failed to load preferences:",s)}finally{f(!1)}},ue=async()=>{f(!0);try{const[s,i,a]=await Promise.all([ve(),we({status:T}),ke()]);de(s),me(i.positions),xe(a.positions)}catch(s){console.error("Failed to load portfolio:",s)}finally{f(!1)}},ge=async()=>{f(!0);try{if(j==="my"&&t){const{activities:s}=await _e({type:P!=="all"?P:void 0});G(s)}else{const{activities:s}=await Pe();G(s)}}catch(s){console.error("Failed to load activities:",s)}finally{f(!1)}},M=async s=>{if(!h)return;const i=!h[s];C({...h,[s]:i});try{await Me({[s]:i}),b("Preferences saved!"),setTimeout(()=>b(null),2e3)}catch(a){console.error("Failed to update preferences:",a),C({...h,[s]:!i})}},fe=async()=>{var i,a,d,u;if(!t)return;p(null),$(!0);const s=q.trim();if(s&&Ye(s)){p("This display name is reserved and cannot be used. Please choose a different name."),$(!1);return}try{const c=await qe({display_name:s||void 0}),{setUser:m}=L.getState();m&&c.user&&t&&m({...t,display_name:c.user.display_name}),b("Profile updated successfully!"),setTimeout(()=>b(null),3e3)}catch(c){console.error("Failed to update profile:",c);const m=((a=(i=c.response)==null?void 0:i.data)==null?void 0:a.error)||((u=(d=c.response)==null?void 0:d.data)==null?void 0:u.message)||c.message||"Failed to update profile";p(m)}finally{$(!1)}},H=async s=>{var c,m,v,g;if(!t||!s.target.files||s.target.files.length===0)return;const i=s.target.files[0];if(p(null),!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(i.type)){p("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image."),s.target.value="";return}const d=10*1024*1024;if(i.size>d){p("File size exceeds 10MB limit. Please choose a smaller image."),s.target.value="";return}const u=new FileReader;u.onloadend=()=>{D(u.result)},u.readAsDataURL(i),O(!0);try{const x=await Ue({avatar:i}),{setUser:y}=L.getState();y&&x.user&&t&&y({...t,avatar_url:x.user.avatar_url}),b("Avatar uploaded successfully!"),setTimeout(()=>b(null),3e3),D(null)}catch(x){console.error("Failed to upload avatar:",x);const y=((m=(c=x.response)==null?void 0:c.data)==null?void 0:m.error)||((g=(v=x.response)==null?void 0:v.data)==null?void 0:g.message)||x.message||"Failed to upload avatar";p(y),D(null)}finally{O(!1),s.target.value=""}};if(!t)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-graphite-light flex items-center justify-center mb-6",children:e.jsx(ae,{className:"w-10 h-10 text-moon-grey-dark"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"Settings"}),e.jsx("p",{className:"text-moon-grey text-center",children:"Connect your wallet to access settings"})]});const be=[{id:"profile",label:"Profile",icon:ae},{id:"portfolio",label:"Portfolio",icon:Le},{id:"activity",label:"Activity",icon:ie},{id:"notifications",label:"Notifications",icon:Se},{id:"security",label:"Security",icon:Je}],E=({enabled:s,onToggle:i,label:a,description:d})=>e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-white/5 last:border-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:a}),d&&e.jsx("div",{className:"text-sm text-moon-grey mt-0.5",children:d})]}),e.jsx("button",{onClick:i,className:`relative w-12 h-6 rounded-full transition-colors ${s?"bg-neon-iris":"bg-graphite-hover"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${s?"left-7":"left-1"}`})})]}),je=({activity:s})=>{const a=(()=>{if(!s.metadata)return{};if(typeof s.metadata=="string")try{return JSON.parse(s.metadata)}catch{return{}}return s.metadata})(),d=He(s),u=()=>{var v;switch(d){case"trade":const g=a.side||a.option_side,x=a.trade_type||a.action,y=a.quantity||a.shares||0,te=a.amount||a.cost||a.total_cost||0;return e.jsxs("span",{className:"flex flex-wrap items-center gap-1",children:[e.jsxs("span",{className:`font-semibold ${g==="yes"?"text-brand-success":"text-brand-danger"}`,children:[x==="buy"?"Bought":"Sold"," ",ne(y)," ",g==null?void 0:g.toUpperCase()]}),te>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-moon-grey",children:"for"}),e.jsx("span",{className:"font-semibold text-white",children:r(te)})]})]});case"market_created":case"market_initialized":return e.jsx("span",{className:"text-moon-grey",children:"Created a new market"});case"market_resolved":return e.jsxs("span",{className:"flex items-center gap-1 flex-wrap",children:[e.jsx("span",{className:"text-moon-grey",children:"Resolved:"}),e.jsx("span",{className:"font-semibold text-neon-iris",children:a.outcome||((v=a.winning_side)==null?void 0:v.toUpperCase())})]});case"deposit":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey",children:"Deposited"}),e.jsx("span",{className:"font-semibold text-brand-success",children:r(a.amount||0)})]});case"withdrawal":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey",children:"Withdrew"}),e.jsx("span",{className:"font-semibold text-amber-400",children:r(a.amount||0)})]});case"claim":case"lp_rewards_claimed":return e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-moon-grey",children:"Claimed"}),e.jsx("span",{className:"font-semibold text-brand-success",children:r(a.amount||a.rewards||0)})]});case"liquidity_added":return e.jsx("span",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-moon-grey",children:"Added liquidity"})});case"liquidity_removed":return e.jsx("span",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-moon-grey",children:"Removed liquidity"})});case"user_joined":return e.jsx("span",{className:"text-moon-grey",children:"Joined the platform"});case"comment":return e.jsx("span",{className:"text-moon-grey",children:"Commented on market"});default:return e.jsx("span",{className:"text-moon-grey capitalize",children:d.replace(/_/g," ")})}},c=s.market_id||a.market_id,m=s.market_question||a.market_question;return e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 rounded-xl bg-graphite-light/50 hover:bg-graphite-light transition-all duration-200",children:[s.username&&e.jsx($e,{name:s.username,imageUrl:s.avatar_url,size:"md"}),e.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsxs("div",{className:"text-xs sm:text-sm leading-relaxed flex flex-wrap items-center gap-x-1",children:[s.username&&e.jsxs("span",{className:"font-semibold text-white truncate max-w-[80px] sm:max-w-[100px] inline-block align-middle",children:["@",s.username]}),e.jsx("span",{className:"min-w-0 break-words",children:u()})]}),c&&m&&e.jsx(w,{to:`/market/${c}`,className:"text-neon-iris hover:text-neon-iris-light text-xs sm:text-sm font-medium line-clamp-2 sm:line-clamp-1 mt-1 transition-colors block break-words",children:S(m)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-moon-grey-dark flex-shrink-0 whitespace-nowrap ml-1",children:[e.jsx(De,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline",children:re(new Date(s.created_at).getTime()/1e3)}),e.jsx("span",{className:"sm:hidden",children:re(new Date(s.created_at).getTime()/1e3).split(" ")[0]})]})]})})]})},ye=[{id:"all",label:"All",icon:Ae},{id:"trade",label:"Trades",icon:le},{id:"deposit",label:"Deposits",icon:Te},{id:"withdrawal",label:"Withdrawals",icon:Fe}];return e.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[e.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-neon-iris/5 via-transparent to-aqua-pulse/5 pointer-events-none"}),e.jsxs("div",{className:"relative max-w-6xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-4 sm:mb-6",children:"Settings"}),I&&e.jsx("div",{className:"mb-6 px-4 py-3 bg-brand-success/20  rounded-xl text-brand-success text-sm animate-fade-in",children:I}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("nav",{className:"flex flex-row lg:flex-col gap-2 lg:gap-1 overflow-x-auto lg:overflow-x-visible pb-2 lg:pb-0 -mx-3 sm:-mx-4 lg:mx-0 px-3 sm:px-4 lg:px-0",children:be.map(s=>{const i=s.icon;return e.jsxs("button",{onClick:()=>ce(s.id),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl text-left transition-all duration-200 min-h-[44px] sm:min-h-[48px] whitespace-nowrap flex-shrink-0 lg:w-full ${o===s.id?"bg-gradient-brand text-white shadow-neon-subtle":"text-moon-grey hover:text-white hover:bg-graphite-light"}`,children:[e.jsx(i,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:s.label})]},s.id)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[o==="profile"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white mb-4 sm:mb-6",children:"Profile Settings"}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6 pb-4 sm:pb-6 border-b border-white/5",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[t.avatar_url||Y?e.jsx("img",{src:Y||t.avatar_url||"",alt:"Avatar",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-2 border-white/10"}):e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-brand flex items-center justify-center text-white text-2xl sm:text-3xl font-bold",children:((K=t.display_name)==null?void 0:K.charAt(0).toUpperCase())||"U"}),e.jsx("label",{htmlFor:"avatar-upload",className:`absolute inset-0 rounded-full bg-black/50 flex items-center justify-center cursor-pointer transition-opacity hover:opacity-100 ${N?"opacity-100":"opacity-0"}`,children:N?e.jsx("div",{className:"text-white text-xs font-medium",children:"Uploading..."}):e.jsx("div",{className:"text-white text-xs font-medium",children:"Change"})}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:H,disabled:N,className:"hidden"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-white text-base sm:text-lg truncate",children:t.display_name}),e.jsxs("p",{className:"text-moon-grey text-sm sm:text-base truncate",children:["@",t.username]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{htmlFor:"avatar-upload-button",className:"btn btn-secondary cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Uploading...":"Upload Avatar"}),e.jsx("input",{id:"avatar-upload-button",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:H,disabled:N,className:"hidden"}),e.jsx("p",{className:"text-xs text-moon-grey-dark",children:"JPEG, PNG, GIF, or WebP. Max 10MB. Images are moderated for inappropriate content."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Display Name"}),e.jsx("input",{type:"text",value:q,onChange:s=>{W(s.target.value),p(null)},className:"input w-full",placeholder:"Your display name",maxLength:50}),e.jsx("p",{className:"text-xs text-moon-grey-dark mt-1",children:"Display names must be unique and can only be changed once every 30 days"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Username"}),e.jsx("input",{type:"text",value:t.username,className:"input w-full bg-graphite-light/50 cursor-not-allowed opacity-60",placeholder:"Your username",disabled:!0,readOnly:!0}),e.jsx("p",{className:"text-xs text-moon-grey-dark mt-1",children:"Usernames cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-moon-grey mb-2",children:"Email"}),e.jsx("input",{type:"email",defaultValue:t.email||"",className:"input w-full",placeholder:"your@email.com",disabled:!0,readOnly:!0}),e.jsx("p",{className:"text-xs text-moon-grey-dark mt-1",children:"Used for notifications and account recovery"})]}),B&&e.jsx("div",{className:"p-3 bg-brand-danger/20 border border-brand-danger/30 rounded-xl text-brand-danger text-sm",children:B}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:fe,disabled:J||q.trim()===(t.display_name||""),className:"btn btn-primary w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Saving...":"Save Changes"})})]})]}),o==="portfolio"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:[e.jsxs("div",{className:"card bg-gradient-to-br from-graphite-deep to-ink",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Total Value"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white truncate",children:r((n==null?void 0:n.total_value)||0)})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Cash Balance"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white truncate",children:r(((Q=t==null?void 0:t.wallet)==null?void 0:Q.balance_usdc)||0)})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Positions Value"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white truncate",children:r((n==null?void 0:n.positions_value)||0)})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-xs sm:text-sm text-moon-grey mb-1 truncate",children:"Total P&L"}),e.jsxs("div",{className:`text-lg sm:text-xl lg:text-2xl font-bold truncate ${((n==null?void 0:n.total_pnl)||0)>=0?"text-brand-success":"text-brand-danger"}`,children:[((n==null?void 0:n.total_pnl)||0)>=0?"+":"",r((n==null?void 0:n.total_pnl)||0)]})]})]}),e.jsxs("div",{className:"flex gap-2 border-b border-white/5 pb-2 overflow-x-auto -mx-3 sm:-mx-0 px-3 sm:px-0",children:[e.jsxs("button",{onClick:()=>z("positions"),className:`px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-medium transition-all min-h-[36px] sm:min-h-[40px] whitespace-nowrap flex-shrink-0 ${_==="positions"?"bg-gradient-brand text-white":"bg-graphite-light text-moon-grey hover:text-white"}`,children:["Positions (",F.length,")"]}),e.jsxs("button",{onClick:()=>z("liquidity"),className:`px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-medium transition-all min-h-[36px] sm:min-h-[40px] whitespace-nowrap flex-shrink-0 ${_==="liquidity"?"bg-gradient-brand text-white":"bg-graphite-light text-moon-grey hover:text-white"}`,children:["Liquidity (",U.length,")"]})]}),_==="positions"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Your Positions"}),e.jsx("div",{className:"flex gap-2",children:["open","closed","all"].map(s=>e.jsx("button",{onClick:()=>oe(s),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all min-h-[36px] ${T===s?"bg-neon-iris text-white":"bg-graphite-light text-moon-grey hover:text-white"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),A?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((s,i)=>e.jsx("div",{className:"h-24 bg-graphite-light rounded-xl skeleton-pulse"},i))}):F.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-graphite-light flex items-center justify-center mx-auto mb-4",children:e.jsx(le,{className:"w-6 h-6 sm:w-8 sm:h-8 text-moon-grey-dark"})}),e.jsx("p",{className:"text-moon-grey mb-4 text-sm sm:text-base",children:"No positions yet. Start trading!"}),e.jsx(w,{to:"/markets",className:"btn btn-primary text-sm sm:text-base",children:"Browse Markets"})]}):e.jsx("div",{className:"space-y-3",children:F.map(s=>e.jsx(w,{to:`/market/${s.market_id}`,className:"block p-3 sm:p-4 rounded-xl bg-graphite-light/50 hover:bg-graphite-light transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white mb-1 text-sm sm:text-base truncate",children:S(s.market_question)}),s.option_label&&e.jsx("p",{className:"text-xs sm:text-sm text-neon-iris mb-2 truncate",children:S(s.option_label)}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm",children:[e.jsx("span",{className:`font-medium ${s.side==="yes"?"text-brand-success":"text-brand-danger"}`,children:s.side.toUpperCase()}),e.jsxs("span",{className:"text-moon-grey break-words",children:[ne(s.shares)," shares @"," ",Ce(s.avg_price)]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"font-semibold text-white text-sm sm:text-base",children:r(s.shares*s.current_price)}),e.jsxs("div",{className:`text-xs sm:text-sm font-medium ${s.pnl>=0?"text-brand-success":"text-brand-danger"}`,children:[s.pnl>=0?"+":"",r(s.pnl)," (",s.pnl_percent>=0?"+":"",s.pnl_percent.toFixed(1),"%)"]})]})]})},s.id))})]}),_==="liquidity"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-6",children:"Liquidity Positions"}),U.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-graphite-light flex items-center justify-center mx-auto mb-4",children:e.jsx(Ve,{className:"w-8 h-8 text-moon-grey-dark"})}),e.jsx("p",{className:"text-moon-grey mb-4",children:"No liquidity positions yet"}),e.jsx(w,{to:"/markets",className:"btn btn-primary",children:"Explore Markets"})]}):e.jsx("div",{className:"space-y-3",children:U.map(s=>e.jsx(w,{to:`/market/${s.market_id}`,className:"block p-4 rounded-xl bg-graphite-light/50 hover:bg-graphite-light transition-all ",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white mb-1 truncate",children:S(s.market_question)}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-moon-grey",children:[e.jsxs("span",{children:["Provided:"," ",r(s.liquidity_provided)]}),e.jsxs("span",{children:["Fees:"," ",e.jsxs("span",{className:"text-brand-success",children:["+",r(s.fees_earned)]})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"font-semibold text-white",children:r(s.current_value)}),e.jsxs("div",{className:`text-sm font-medium ${s.pnl>=0?"text-brand-success":"text-brand-danger"}`,children:[s.pnl>=0?"+":"",r(s.pnl)]})]})]})},s.id))})]})]}),o==="activity"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex bg-graphite-light rounded-xl p-1 ",children:[e.jsx("button",{onClick:()=>R("my"),className:`px-4 py-2.5 rounded-lg text-sm font-medium transition-all min-h-[40px] ${j==="my"?"bg-gradient-brand text-white":"text-moon-grey hover:text-white"}`,children:"My Activity"}),e.jsx("button",{onClick:()=>R("global"),className:`px-4 py-2.5 rounded-lg text-sm font-medium transition-all min-h-[40px] ${j==="global"?"bg-gradient-brand text-white":"text-moon-grey hover:text-white"}`,children:"Global Feed"})]})}),j==="my"&&e.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto -mx-3 sm:-mx-0 px-3 sm:px-0 pb-2 sm:pb-0",children:ye.map(s=>{const i=s.icon;return e.jsxs("button",{onClick:()=>he(s.id),className:`flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl text-xs sm:text-sm font-medium transition-all min-h-[36px] sm:min-h-[40px] whitespace-nowrap flex-shrink-0 ${P===s.id?"bg-gradient-brand text-white":"bg-graphite-light text-moon-grey  hover:text-white"}`,children:[e.jsx(i,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),s.label]},s.id)})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"relative",children:e.jsxs("span",{className:"flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-success opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-brand-success"})]})}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:j==="my"?"Recent Transactions":"Platform Activity"})]}),A?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((s,i)=>e.jsx("div",{className:"h-20 bg-graphite-light rounded-xl skeleton-pulse"},i))}):V.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-graphite-light flex items-center justify-center mx-auto mb-4",children:e.jsx(ie,{className:"w-8 h-8 text-moon-grey-dark"})}),e.jsx("p",{className:"text-moon-grey",children:"No activity yet"})]}):e.jsx("div",{className:"space-y-3",children:V.map(s=>e.jsx(je,{activity:s},s.id))})]})]}),o==="notifications"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Notification Preferences"}),A?e.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((s,i)=>e.jsx("div",{className:"h-16 bg-graphite-light rounded-xl skeleton-pulse"},i))}):h?e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mb-4",children:"Email Notifications"}),e.jsx(E,{enabled:h.email_trade_confirmations,onToggle:()=>M("email_trade_confirmations"),label:"Trade Confirmations",description:"Receive email when your trades are executed"}),e.jsx(E,{enabled:h.email_market_resolutions,onToggle:()=>M("email_market_resolutions"),label:"Market Resolutions",description:"Get notified when markets you traded on resolve"}),e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mt-8 mb-4",children:"Push Notifications"}),e.jsx(E,{enabled:h.push_enabled,onToggle:()=>M("push_enabled"),label:"Enable Push Notifications",description:"Receive browser push notifications"})]}):e.jsx("p",{className:"text-moon-grey",children:"Failed to load preferences. Please try again."})]}),o==="security"&&e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Security Settings"}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-white/5",children:[e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mb-4",children:"Connected Wallet"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-graphite-light rounded-xl ",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-neon-iris/20 flex items-center justify-center",children:e.jsx(ze,{className:"w-5 h-5 text-neon-iris"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Solana Wallet"}),e.jsxs("p",{className:"text-sm text-moon-grey font-mono",children:[(X=(Z=t.wallet)==null?void 0:Z.publicKey)==null?void 0:X.toString().slice(0,8),"...",(se=(ee=t.wallet)==null?void 0:ee.publicKey)==null?void 0:se.toString().slice(-8)]})]})]}),e.jsx("span",{className:"px-2 py-1 bg-brand-success/20 text-brand-success text-xs rounded-full ",children:"Connected"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-moon-grey-dark uppercase tracking-wide mb-4",children:"Active Sessions"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-graphite-light rounded-xl ",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-graphite-hover flex items-center justify-center",children:e.jsx(We,{className:"w-5 h-5 text-moon-grey"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Current Session"}),e.jsx("p",{className:"text-sm text-moon-grey",children:"Chrome on macOS â€¢ Now"})]})]}),e.jsx("span",{className:"text-brand-success text-sm",children:"Active"})]})}),e.jsx("button",{className:"mt-4 text-brand-danger hover:text-brand-danger/80 text-sm font-medium transition-colors",children:"Sign out of all other sessions"})]})]})]})]})]})]})};export{Qe as Settings};
