import{a5 as it,i as rt,a6 as at,u as nt,r as a,a4 as Be,t as w,g as ot,j as e,m as d,b as we,a7 as lt,a8 as ct,a9 as dt,aa as mt,ab as xt,ac as ht,ad as ut,ae as pt}from"./index-4FQH80kW.js";import{s as gt}from"./categorySort-BEAn0rC4.js";import{v as R}from"./bannedWords-DWj1MktN.js";import{c as ze,a as bt}from"./imageCompression-DxdGVjC3.js";import{C as ft}from"./ConfirmationModal-CLodoB8E.js";var x=(n=>(n.ORACLE="ORACLE",n.AUTHORITY="AUTHORITY",n.OPINION="OPINION",n))(x||{});it(n=>({resolutionInfo:null,setResolutionInfo:G=>n({resolutionInfo:G}),clearResolutionInfo:()=>n({resolutionInfo:null})}));const M={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1]}},vt={animate:{transition:{staggerChildren:.08}}},ye=200,re=100,Lt=()=>{var Ee;const{user:n}=rt(),G=at(),[Fe]=nt(),T=Fe.get("market"),[f,k]=a.useState("details"),[$e,Ne]=a.useState(!1),[y,ke]=a.useState(""),[O,Ce]=a.useState(""),[q,Le]=a.useState(""),[h,ae]=a.useState(!0),[g,B]=a.useState([]),[C,ne]=a.useState(null),[I,oe]=a.useState(null),[L,Me]=a.useState(x.ORACLE),[jt,Q]=a.useState({bondAmount:.5,disputeWindowHours:2}),[m,_]=a.useState([]),[v,le]=a.useState(""),[K,Oe]=a.useState(""),[ce,Ie]=a.useState(!1),[z,F]=a.useState(null),[$,de]=a.useState(null),[P,J]=a.useState(""),[X,Z]=a.useState(""),[me,ee]=a.useState(!1),[S,U]=a.useState(null),[u,xe]=a.useState("100"),[V,Pe]=a.useState([]),[N,Se]=a.useState(null),[De,te]=a.useState(!1),[D,A]=a.useState(!1),[se,Re]=a.useState(!1),[qe,c]=a.useState(null),[_e,j]=a.useState(null),[he,ue]=a.useState(null),[pe,ge]=a.useState(null),[H,be]=a.useState(null),[Ve,fe]=a.useState(!1),[Ue,ve]=a.useState(null);a.useEffect(()=>{T?He(T):B([])},[T]),a.useEffect(()=>{if(!T&&V.length>0&&g.length===0){const t=V.find(s=>s.name.toLowerCase()==="politics");t&&B([t.id])}},[V,T,g.length]);const He=async t=>{Ne(!0);try{const{market:s}=await Be(t);if(ke(s.question),Ce(s.market_description||""),ae(s.is_binary),Se(s.id),s.image_url&&oe(s.image_url),s.expiration_timestamp)try{let i;typeof s.expiration_timestamp=="number"?i=s.expiration_timestamp>1e12?s.expiration_timestamp:s.expiration_timestamp*1e3:i=new Date(s.expiration_timestamp).getTime();const r=new Date(i);isNaN(r.getTime())||Le(r.toISOString().slice(0,16))}catch(i){console.error("Failed to parse expiration timestamp:",i)}if(s.options&&s.options.length>0&&_(s.options.map(i=>({id:i.id,label:i.option_label,subLabel:i.option_sub_label||null,image:null,imageUrl:i.option_image_url||null}))),s.categories&&Array.isArray(s.categories)&&s.categories.length>0&&B([s.categories[0].id]),s.resolution_mode&&Me(s.resolution_mode),s.resolution_config){const i=s.resolution_config,r={...i};i.bondAmount&&typeof i.bondAmount=="number"&&i.bondAmount>=1e3&&(r.bondAmount=i.bondAmount/1e6),Q(r)}s.options&&s.options.length>=2?k("review"):k("options"),w.success("Loaded market for editing")}catch(s){console.error("Failed to load market:",s),w.error("Failed to load market"),G("/my-markets")}finally{Ne(!1)}};a.useEffect(()=>{Ye()},[]),a.useEffect(()=>{if(C){const t=URL.createObjectURL(C);return oe(t),()=>URL.revokeObjectURL(t)}},[C]),a.useEffect(()=>{L===x.AUTHORITY&&n?Q(t=>({...t,authorityResolverId:n.id})):L!==x.AUTHORITY&&Q(t=>{const{authorityResolverId:s,...i}=t;return i}),(L===x.OPINION||L===x.ORACLE)&&Q(t=>{const{bondAmount:s,disputeWindowHours:i,...r}=t;return r})},[L,n]);const Ae=a.useRef("details");a.useEffect(()=>{f==="options"&&Ae.current!=="options"&&h&&!v&&m.length===0&&le("binary"),Ae.current=f},[f,h,v,m.length]);const Ye=async()=>{try{const{categories:t}=await ot(),s=gt(t);Pe(s)}catch(t){console.error("Failed to load categories:",t)}},We=async t=>{var i;const s=(i=t.target.files)==null?void 0:i[0];if(s)try{const r=await bt(s);ne(r)}catch(r){console.error("Failed to compress image:",r),w.error("Failed to process image. Using original file."),ne(s)}},Ge=async()=>{var i,r,l,p,Te;if(!y||!q||!C||!g){let o="Please fill in all required fields";C?g||(o="Please select a category for your market."):o="Cover image is required. Please upload a cover image.",c(o),w.error(o);return}const t=R(y,"Market question");if(!t.isValid){const o=t.error||"Invalid content in market question";ue(t.error||null),c(o),w.error(o);return}if(O){const o=R(O,"Market description");if(!o.isValid){const b=o.error||"Invalid content in market description";ge(o.error||null),c(b),w.error(b);return}}if(N){te(!0),c(null);try{const o=Math.floor(new Date(q).getTime()/1e3);await lt({marketId:N,marketQuestion:y,marketDescription:O,marketExpirationDate:o,categoryIds:g||[],image:C}),j("Market details updated successfully!"),setTimeout(()=>j(null),3e3),k("options")}catch(o){console.error("Failed to update market:",o);const b=((r=(i=o.response)==null?void 0:i.data)==null?void 0:r.error)||o.message||"Failed to update market";c(b),w.error(b)}finally{te(!1)}return}const s=parseInt(u)||100;if(((l=n==null?void 0:n.wallet)==null?void 0:l.balance_usdc)!==void 0&&n.wallet.balance_usdc/1e6<s){const b=we(n.wallet.balance_usdc).replace("$",""),E=`Insufficient balance. You need at least ${s} USDC for initial liquidity, but you have ${b} USDC`;c(E),w.error(E);return}te(!0),c(null);try{const o=ct.generate(),b=Math.floor(new Date(q).getTime()/1e3),{market:E}=await dt({base:o.publicKey.toBase58(),marketQuestion:y,marketDescription:O,marketExpirationDate:b,usdcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",isBinary:h,categoryIds:g||[],image:C,resolutionMode:L});if(Se(E),j("Market created successfully!"),setTimeout(()=>j(null),3e3),h)try{mt(E);const{market:W}=await Be(E);W.options&&W.options.length>0&&_(W.options.map(ie=>({id:ie.id,label:ie.option_label,subLabel:ie.option_sub_label||null,image:null,imageUrl:ie.option_image_url||null}))),k("review")}catch(W){console.error("Failed to fetch created market:",W),k("options")}else k("options")}catch(o){console.error("Failed to create market:",o);const b=((Te=(p=o.response)==null?void 0:p.data)==null?void 0:Te.error)||o.message||"Failed to create market";c(b),w.error(b)}finally{te(!1)}},Qe=async()=>{var s,i;if(!N||!v){c("Please enter an option label");return}const t=R(v,"Option label");if(!t.isValid){be(t.error||null),c(t.error||"Invalid content in option label");return}A(!0),c(null);try{const{option:r}=await ht({market:N,optionLabel:v,optionSubLabel:K.trim()||void 0,image:z||void 0});_([...m,{id:r,label:v,subLabel:K.trim()||null,image:z}]),le(""),Oe(""),Ie(!1),F(null),j("Option added!"),setTimeout(()=>j(null),2e3)}catch(r){console.error("Failed to create option:",r),c(((i=(s=r.response)==null?void 0:s.data)==null?void 0:i.error)||r.message||"Failed to create option")}finally{A(!1)}},Ke=t=>{const s=m[t];de(t),J(s.label);const i=s.subLabel||"";Z(i),ee(!!i),U(null)},Je=async()=>{var i,r;if($===null||!P)return;const t=m[$];if(!t.id){c("Cannot edit option that hasn't been saved yet");return}const s=R(P,"Option label");if(!s.isValid){c(s.error||"Invalid content in option label");return}A(!0),c(null);try{await xt({optionId:t.id,optionLabel:P,optionSubLabel:X.trim()||null,image:S||void 0});const l=[...m];l[$]={...t,label:P,subLabel:X.trim()||null,image:S||t.image},_(l),de(null),J(""),Z(""),ee(!1),U(null),j("Option updated!"),setTimeout(()=>j(null),2e3)}catch(l){console.error("Failed to update option:",l),c(((r=(i=l.response)==null?void 0:i.data)==null?void 0:r.error)||l.message||"Failed to update option")}finally{A(!1)}},Xe=async t=>{if(!m[t].id){_(m.filter((i,r)=>r!==t));return}ve(t),fe(!0)},Ze=async()=>{var i,r;if(Ue===null)return;const t=Ue,s=m[t];fe(!1),ve(null),A(!0),c(null);try{await pt(s.id),_(m.filter((l,p)=>p!==t)),j("Option deleted!"),setTimeout(()=>j(null),2e3)}catch(l){console.error("Failed to delete option:",l),c(((r=(i=l.response)==null?void 0:i.data)==null?void 0:r.error)||l.message||"Failed to delete option")}finally{A(!1)}},et=async()=>{var s,i;if(!N)return;if(!u||u.trim()===""){c("Please enter an initial liquidity amount");return}const t=parseFloat(u);if(isNaN(t)||t<100){c("Minimum initial liquidity is 100 USDC");return}Re(!0),c(null);try{const r=t*1e6;await ut(N,r),j("Market is now live with liquidity!"),setTimeout(()=>{G(`/market/${N}`)},1500)}catch(r){console.error("Failed to initialize market:",r),c(((i=(s=r.response)==null?void 0:s.data)==null?void 0:i.error)||r.message||"Failed to initialize market"),Re(!1)}},tt=y&&q&&C&&g,je=h?m.length===1:m.length>=2,st=!h||m.length<1;if(!n)return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-ink-black",children:e.jsxs(d.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-8 border border-white/10 flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-neon-iris/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-extralight tracking-tight text-white mb-4",children:"Create a Market"}),e.jsx("p",{className:"text-moon-grey/60 mb-8 max-w-md font-light",children:"Connect your wallet to create prediction markets and earn creator fees on every trade."})]})});if($e)return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-ink-black",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-6 border border-white/10 flex items-center justify-center",children:e.jsx(d.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-neon-iris/30 border-t-neon-iris rounded-full"})}),e.jsx("p",{className:"text-moon-grey/50 text-sm tracking-wide uppercase",children:"Loading market..."})]})});const Y=[{id:"details",label:"Market Details",number:1},{id:"options",label:"Add Options",number:2},{id:"review",label:"Review & Go Live",number:3}];return e.jsxs("div",{className:"min-h-screen bg-ink-black overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_50%_at_50%_-20%,rgba(124,77,255,0.12),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_60%_40%_at_80%_100%,rgba(33,246,210,0.06),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02] hidden sm:block",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                             linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)`,backgroundSize:"80px 80px"}})]}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-neon-iris/30 to-transparent"}),e.jsx("section",{className:"relative pt-12 sm:pt-16 lg:pt-20 pb-8 sm:pb-12 border-b border-white/5",children:e.jsxs("div",{className:"section-container",children:[e.jsxs(d.div,{className:"text-center mb-10 sm:mb-14",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 sm:gap-3 mb-6 sm:mb-8",children:[e.jsx("div",{className:"h-px w-8 sm:w-12 bg-gradient-to-r from-transparent to-neon-iris/60"}),e.jsx("span",{className:"text-[10px] sm:text-xs tracking-[0.25em] uppercase text-moon-grey/70 font-medium",children:"Market Creator"}),e.jsx("div",{className:"h-px w-8 sm:w-12 bg-gradient-to-l from-transparent to-neon-iris/60"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-extralight tracking-tight text-white mb-4 sm:mb-6",children:"Create Your Market"}),e.jsx("p",{className:"text-base sm:text-lg text-moon-grey/60 max-w-xl mx-auto font-light",children:"Launch a prediction market and earn fees on every trade"})]}),e.jsx(d.div,{className:"flex items-center justify-center gap-4 sm:gap-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.8},children:Y.map((t,s)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-light text-base transition-all duration-300 ${f===t.id?"bg-neon-iris/20 text-neon-iris border border-neon-iris/50":Y.findIndex(i=>i.id===f)>s?"bg-aqua-pulse/10 text-aqua-pulse border border-aqua-pulse/30":"bg-white/[0.02] text-moon-grey/50 border border-white/10"}`,children:Y.findIndex(i=>i.id===f)>s?e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):e.jsx("span",{className:"text-lg",children:t.number})}),e.jsx("span",{className:`mt-2 sm:mt-3 text-[10px] sm:text-xs tracking-[0.15em] uppercase hidden sm:block transition-colors ${f===t.id?"text-neon-iris/80":"text-moon-grey/40"}`,children:t.label})]}),s<Y.length-1&&e.jsx("div",{className:`w-12 sm:w-20 h-px mx-3 sm:mx-4 transition-colors ${Y.findIndex(i=>i.id===f)>s?"bg-aqua-pulse/40":"bg-white/10"}`})]},t.id))})]})}),e.jsx("section",{className:"relative py-10 sm:py-16",children:e.jsxs("div",{className:"section-container max-w-4xl",children:[_e&&e.jsx(d.div,{className:"mb-8 px-6 py-4 bg-aqua-pulse/5 border border-aqua-pulse/20",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 h-8 border border-aqua-pulse/30 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-aqua-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-aqua-pulse/90 font-light",children:_e})]})}),qe&&e.jsx(d.div,{className:"mb-8 px-6 py-4 bg-red-500/5 border border-red-500/20",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 h-8 border border-red-500/30 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-red-400/90 font-light",children:qe})]})}),f==="details"&&e.jsxs(d.div,{className:"space-y-10",variants:vt,initial:"initial",animate:"animate",children:[e.jsxs(d.div,{className:"relative group",variants:M,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:["Cover Image ",e.jsx("span",{className:"text-red-400",children:"*"})]})}),e.jsx("div",{className:`relative aspect-[21/9] border overflow-hidden transition-all duration-300 ${I?"border-white/10":"border-dashed border-white/20 hover:border-neon-iris/40 bg-white/[0.02]"}`,children:I?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:I,alt:"Preview",loading:"lazy",className:"w-full h-full object-cover max-w-full max-h-full"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-ink-black/80 via-transparent to-transparent"}),e.jsx("button",{onClick:()=>{ne(null),oe(null)},className:"absolute top-4 right-4 w-10 h-10 bg-ink-black/80 backdrop-blur-sm text-white/70 hover:text-white hover:bg-red-500/80 transition-all flex items-center justify-center border border-white/10",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs("label",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer px-4 sm:px-6 py-4",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 border border-white/10 flex items-center justify-center mb-4 sm:mb-5 group-hover:border-neon-iris/40 group-hover:bg-neon-iris/5 transition-all flex-shrink-0",children:e.jsx("svg",{className:"w-7 h-7 sm:w-8 sm:h-8 text-moon-grey/40 group-hover:text-neon-iris/70 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-sm sm:text-base font-light text-moon-grey/60 group-hover:text-white transition-colors text-center",children:"Upload Cover Image"}),e.jsx("span",{className:"text-[10px] sm:text-xs text-moon-grey/40 mt-2 text-center",children:"PNG, JPG, or GIF • 1200×514 recommended"}),e.jsx("input",{type:"file",accept:"image/*",onChange:We,className:"hidden"})]})})]}),e.jsxs(d.div,{className:"space-y-4",variants:M,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:"Market Question"}),e.jsxs("span",{className:`text-[10px] sm:text-xs ${y.length>ye?"text-red-400":"text-moon-grey/40"}`,children:[y.length,"/",ye]})]}),e.jsx("input",{type:"text",value:y,onChange:t=>{const s=t.target.value;ke(s);const i=R(s,"Market question");i.isValid?ue(null):ue(i.error||null)},maxLength:ye,className:`w-full px-5 py-4 bg-white/[0.02] border text-white text-base sm:text-lg font-light placeholder-moon-grey/30 focus:ring-0 focus:outline-none transition-colors ${he?"border-red-500/50 focus:border-red-500":"border-white/10 focus:border-neon-iris/50"}`,placeholder:"Will Bitcoin reach $100,000 by December 2025?"}),he&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),he]})]}),e.jsxs(d.div,{className:"space-y-4",variants:M,children:[e.jsx("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:"Description & Resolution Criteria"}),e.jsx("textarea",{value:O,onChange:t=>{const s=t.target.value;Ce(s);const i=R(s,"Market description");i.isValid?ge(null):ge(i.error||null)},rows:4,className:`w-full px-5 py-4 bg-white/[0.02] border text-white font-light placeholder-moon-grey/30 focus:ring-0 focus:outline-none transition-colors resize-none ${pe?"border-red-500/50 focus:border-red-500":"border-white/10 focus:border-neon-iris/50"}`,placeholder:"Provide context for traders and explain how this market will be resolved..."}),pe&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),pe]})]}),e.jsxs(d.div,{className:"grid sm:grid-cols-2 gap-8",variants:M,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:"Expiration Date"}),e.jsx("input",{type:"datetime-local",value:q,onChange:t=>Le(t.target.value),className:"w-full px-5 py-4 bg-white/[0.02] border border-white/10 text-white focus:border-neon-iris/50 focus:ring-0 focus:outline-none transition-colors"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:"Market Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>ae(!0),className:`px-5 py-3.5 font-light text-sm transition-all ${h?"bg-neon-iris/20 text-neon-iris border border-neon-iris/50":"bg-white/[0.02] text-moon-grey/60 border border-white/10 hover:border-white/20"}`,children:"Yes / No"}),e.jsx("button",{onClick:()=>ae(!1),className:`px-5 py-3.5 font-light text-sm transition-all ${h?"bg-white/[0.02] text-moon-grey/60 border border-white/10 hover:border-white/20":"bg-neon-iris/20 text-neon-iris border border-neon-iris/50"}`,children:"Multiple Choice"})]})]})]}),V.length>0&&e.jsxs(d.div,{className:"space-y-4",variants:M,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:["Category ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("span",{className:`text-[10px] sm:text-xs ${g.length>0?"text-neon-iris/70":"text-moon-grey/40"}`,children:g.length>0?"1/1 selected":"0/1 selected"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:V.map(t=>{const s=g.includes(t.id);return e.jsx("button",{onClick:()=>{B(s?[]:[t.id])},className:`px-4 py-2.5 text-sm font-light transition-all ${s?"bg-neon-iris/15 text-neon-iris border border-neon-iris/40":"bg-white/[0.02] text-moon-grey/60 border border-white/10 hover:border-white/20 hover:text-white"}`,children:t.name},t.id)})}),g.length===0&&e.jsxs("p",{className:"text-[10px] sm:text-xs text-amber-400/70 flex items-center gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please select a category (required)"]})]}),e.jsxs(d.div,{className:"space-y-4",variants:M,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:"Resolution Mode"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-moon-grey/40 mt-1",children:"How this market will be resolved (cannot be changed)"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[x.ORACLE,x.AUTHORITY,x.OPINION].map(t=>{const s={[x.ORACLE]:"Oracle",[x.AUTHORITY]:"Authority",[x.OPINION]:"Opinion"},i={[x.ORACLE]:"Platform admins resolve",[x.AUTHORITY]:"You resolve the outcome",[x.OPINION]:"Market price determines"};return e.jsxs("button",{type:"button",onClick:()=>Me(t),className:`p-4 sm:p-5 border text-left transition-all ${L===t?"border-neon-iris/50 bg-neon-iris/10":"border-white/10 bg-white/[0.02] hover:border-white/20"}`,children:[e.jsxs("div",{className:"font-light text-white mb-1 text-sm",children:[s[t],t===x.ORACLE&&e.jsx("span",{className:"ml-2 text-[10px] text-neon-iris/70",children:"Recommended"})]}),e.jsx("div",{className:"text-[10px] sm:text-xs text-moon-grey/50",children:i[t]})]},t)})}),L===x.AUTHORITY&&e.jsxs("div",{className:"mt-4 p-5 bg-blue-500/5 border border-blue-500/20",children:[e.jsx("p",{className:"text-xs text-blue-300/80 font-medium mb-2",children:"About Disputes"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-blue-200/50 font-light",children:"After you resolve, there's a 2-hour dispute window. Users can dispute by posting a bond, which will be reviewed by platform admins."})]})]}),e.jsxs(d.div,{className:"p-6 sm:p-8 bg-neon-iris/5 border border-neon-iris/20",variants:M,children:[e.jsx("h3",{className:"text-lg sm:text-xl font-light text-white mb-3",children:"Initial Liquidity"}),e.jsx("p",{className:"text-sm text-moon-grey/60 mb-6 font-light",children:"Seed the market with liquidity to launch it. You'll receive LP shares and earn fees from all trades. Minimum: 100 USDC"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:u,onChange:t=>{const s=t.target.value;xe(s)},min:"100",step:"1",className:"w-full px-5 py-4 pr-28 bg-white/[0.02] border border-white/10 text-white text-lg sm:text-xl font-light placeholder-moon-grey/30 focus:border-neon-iris/50 focus:ring-0 focus:outline-none transition-colors [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"100"}),e.jsx("span",{className:"absolute right-20 top-1/2 -translate-y-1/2 text-moon-grey/50 font-light",children:"USDC"}),e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex flex-col border border-white/10 overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>{const t=parseInt(u)||100,s=Math.max(100,t+1);xe(String(s))},className:"w-7 h-6 flex items-center justify-center bg-white/[0.02] hover:bg-neon-iris/10 text-moon-grey/50 hover:text-neon-iris transition-all border-b border-white/10","aria-label":"Increment",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),e.jsx("button",{type:"button",onClick:()=>{const t=parseInt(u)||100,s=Math.max(100,t-1);xe(String(s))},className:"w-7 h-6 flex items-center justify-center bg-white/[0.02] hover:bg-neon-iris/10 text-moon-grey/50 hover:text-neon-iris transition-all","aria-label":"Decrement",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),((Ee=n==null?void 0:n.wallet)==null?void 0:Ee.balance_usdc)!==void 0&&e.jsxs("p",{className:`text-xs mt-3 ${n.wallet.balance_usdc/1e6>=(parseInt(u)||100)?"text-aqua-pulse/80":"text-red-400/80"}`,children:["Your balance: ",we(n.wallet.balance_usdc)," USDC"]})]}),e.jsx(d.div,{className:"pt-8",variants:M,children:(()=>{var p;const t=((p=n==null?void 0:n.wallet)==null?void 0:p.balance_usdc)!==void 0?n.wallet.balance_usdc/1e6:0,s=parseInt(u)||100,i=t>=s,r=s>=100,l=!tt||De||!i||!r;return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:Ge,disabled:l,className:`group w-full py-4 sm:py-5 text-sm font-medium tracking-wide uppercase transition-all duration-300 inline-flex items-center justify-center gap-3 ${l?"bg-white/10 text-moon-grey/40 cursor-not-allowed":"bg-white text-ink-black hover:bg-moon-grey-light"}`,children:De?e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx(d.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-ink-black/30 border-t-ink-black rounded-full"}),N?"Updating Market...":"Creating Market..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:[N?"Update":"Create"," Market & Add Options"]}),e.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})}),!i&&!N&&e.jsxs("p",{className:"mt-4 text-center text-xs text-red-400/80",children:["You need at least ",s," USDC for initial liquidity"]}),!r&&e.jsx("p",{className:"mt-4 text-center text-xs text-red-400/80",children:"Minimum initial liquidity is 100 USDC"})]})})()})]}),f==="options"&&e.jsxs(d.div,{className:"space-y-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[e.jsxs("div",{className:"relative overflow-hidden border border-white/10 bg-graphite-deep/50",children:[e.jsxs("div",{className:"aspect-[21/9] relative bg-ink-black",children:[I?e.jsx("img",{src:I,alt:"Market",loading:"lazy",className:"w-full h-full object-cover max-w-full max-h-full",onError:t=>{t.target.src="https://placehold.co/1200x514/0a0a0f/7c4dff?text=Market+Image"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-moon-grey/30",children:"No image"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-ink-black via-ink-black/60 to-transparent"})]}),e.jsxs("div",{className:"p-6 sm:p-8 -mt-20 relative",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-light text-white mb-3",children:y}),e.jsx("p",{className:"text-moon-grey/50 text-sm font-light",children:O||"No description provided"})]})]}),h&&e.jsx("div",{className:"p-5 bg-neon-iris/5 border border-neon-iris/20",children:e.jsxs("p",{className:"text-sm text-moon-grey/70 font-light",children:[e.jsx("span",{className:"text-neon-iris/80",children:"Binary Market:"})," ","Add one option. Traders will bet Yes or No on it."]})}),m.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:h?"Option":`Options Added (${m.length})`}),e.jsx("div",{className:"grid gap-3",children:m.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-4 px-5 sm:px-6 py-4 sm:py-5 bg-white/[0.02] border border-white/10",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border border-neon-iris/30 bg-neon-iris/5 flex items-center justify-center text-neon-iris/80 font-light text-lg",children:s+1}),e.jsx("div",{className:"flex-1",children:$===s?e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:P,onChange:i=>J(i.target.value),maxLength:re,className:"w-full px-4 py-3 bg-white/[0.02] border border-neon-iris/50 text-white placeholder-moon-grey/30 focus:ring-0 focus:outline-none",placeholder:"Option label"}),e.jsxs("div",{className:"border border-white/10 overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>ee(!me),className:"w-full flex items-center justify-between px-4 py-3 bg-white/[0.02] hover:bg-white/[0.04] transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-light text-moon-grey/70",children:"Sub-label"}),e.jsx("span",{className:"text-[10px] text-moon-grey/40",children:"(Optional)"})]}),e.jsx("svg",{className:`w-4 h-4 text-moon-grey/40 transition-transform ${me?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 9l-7 7-7-7"})})]}),me&&e.jsxs("div",{className:"p-4 bg-white/[0.01] border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-[10px] text-moon-grey/50",children:"Add additional context"}),e.jsxs("span",{className:"text-[10px] text-moon-grey/40",children:[X.length,"/100"]})]}),e.jsx("input",{type:"text",value:X,onChange:i=>Z(i.target.value),maxLength:100,className:"w-full px-4 py-2.5 bg-white/[0.02] border border-white/10 text-white placeholder-moon-grey/30 focus:ring-0 focus:outline-none focus:border-neon-iris/50 transition-colors",placeholder:"e.g., Republican, Democratic, Independent...",autoFocus:!0})]})]}),e.jsxs("div",{className:"space-y-3",children:[(S||t.imageUrl)&&e.jsx("div",{className:"relative w-28 h-28 overflow-hidden border border-white/10",children:e.jsx("img",{src:S?URL.createObjectURL(S):t.imageUrl||"",alt:"Option preview",className:"w-full h-full object-cover"})}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/[0.02] border border-white/10 hover:border-white/20 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 text-moon-grey/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-moon-grey/50 text-sm font-light",children:S?S.name:t.imageUrl?"Change image":"Option image (optional)"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:async i=>{var l;const r=(l=i.target.files)==null?void 0:l[0];if(r)try{const p=await ze(r);U(p)}catch(p){console.error("Failed to compress image:",p),w.error("Failed to process image. Using original file."),U(r)}else U(null)},className:"hidden"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Je,disabled:D,className:"px-4 py-2 bg-white text-ink-black text-sm font-medium hover:bg-moon-grey-light transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Saving...":"Save"}),e.jsx("button",{onClick:()=>{de(null),J(""),Z(""),ee(!1),U(null)},disabled:D,className:"px-4 py-2 bg-white/[0.02] text-moon-grey/60 border border-white/10 text-sm font-light hover:border-white/20 transition-colors disabled:opacity-50",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-start gap-4",children:[(t.image||t.imageUrl)&&e.jsx("div",{className:"relative w-14 h-14 overflow-hidden border border-white/10 flex-shrink-0",children:e.jsx("img",{src:t.image?URL.createObjectURL(t.image):t.imageUrl||"",alt:t.label,className:"w-full h-full object-cover",onError:i=>{i.target.style.display="none"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-white font-light",children:t.label}),t.subLabel&&e.jsx("div",{className:"text-moon-grey/50 text-sm mt-1 font-light",children:t.subLabel}),h&&e.jsx("p",{className:"text-moon-grey/40 text-xs mt-1",children:"Traders will bet Yes or No"})]})]})}),$!==s&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Ke(s),className:"p-2.5 bg-white/[0.02] border border-white/10 text-moon-grey/50 hover:text-neon-iris hover:border-neon-iris/30 transition-all",title:"Edit option",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>Xe(s),className:"p-2.5 bg-white/[0.02] border border-white/10 text-moon-grey/50 hover:text-red-400 hover:border-red-500/30 transition-all",title:"Delete option",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},s))})]}),st&&e.jsxs("div",{className:"p-6 sm:p-8 bg-graphite-deep/50 border border-white/10",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-light text-white mb-6",children:h?"Add Your Option":"Add New Option"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:["Option Label ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("span",{className:`text-[10px] sm:text-xs ${v.length>re?"text-red-400":"text-moon-grey/40"}`,children:[v.length,"/",re]})]}),e.jsx("input",{type:"text",value:v,onChange:t=>{const s=t.target.value;le(s);const i=R(s,"Option label");i.isValid?be(null):be(i.error||null)},maxLength:re,className:`w-full px-5 py-4 bg-white/[0.02] border text-white font-light placeholder-moon-grey/30 focus:ring-0 focus:outline-none transition-colors ${H?"border-red-500/50 focus:border-red-500":"border-white/10 focus:border-neon-iris/50"}`,placeholder:h?"e.g., Bitcoin $100k, Trump wins, Lakers championship...":"e.g., Gavin Newsom, JD Vance, ..."}),H&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-2 mt-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),H]})]}),e.jsxs("div",{className:"border border-white/10 overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>Ie(!ce),className:"w-full flex items-center justify-between px-5 py-4 bg-white/[0.02] hover:bg-white/[0.04] transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-light text-moon-grey/70",children:"Sub-label"}),e.jsx("span",{className:"text-[10px] text-moon-grey/40",children:"(Optional)"})]}),e.jsx("svg",{className:`w-4 h-4 text-moon-grey/40 transition-transform ${ce?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 9l-7 7-7-7"})})]}),ce&&e.jsxs("div",{className:"p-5 bg-white/[0.01] border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-[10px] text-moon-grey/50",children:"Add additional context"}),e.jsxs("span",{className:"text-[10px] text-moon-grey/40",children:[K.length,"/100"]})]}),e.jsx("input",{type:"text",value:K,onChange:t=>Oe(t.target.value),maxLength:100,className:"w-full px-4 py-3 bg-white/[0.02] border border-white/10 text-white placeholder-moon-grey/30 focus:ring-0 focus:outline-none focus:border-neon-iris/50 transition-colors",placeholder:"e.g., Republican, Democratic, Independent...",autoFocus:!0})]})]}),e.jsxs("div",{children:[z&&e.jsxs("div",{className:"relative w-full mb-4 overflow-hidden border border-white/10",children:[e.jsx("img",{src:URL.createObjectURL(z),alt:"Option preview",className:"w-full h-40 object-cover"}),e.jsx("button",{type:"button",onClick:()=>F(null),className:"absolute top-3 right-3 p-2 bg-ink-black/80 backdrop-blur-sm text-white/70 hover:text-white hover:bg-red-500/80 transition-all border border-white/10",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("label",{className:"cursor-pointer block",children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 bg-white/[0.02] border border-white/10 hover:border-white/20 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 text-moon-grey/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-sm text-moon-grey/50 font-light",children:z?"Change image":"Option image (optional)"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:async t=>{var i;const s=(i=t.target.files)==null?void 0:i[0];if(s)try{const r=await ze(s);F(r)}catch(r){console.error("Failed to compress image:",r),w.error("Failed to process image. Using original file."),F(s)}else F(null)},className:"hidden"})]})]}),e.jsx("button",{onClick:Qe,disabled:!v||D||!!H,className:`w-full py-4 text-sm font-medium tracking-wide uppercase transition-all ${v&&!D&&!H?"bg-neon-iris/20 text-neon-iris border border-neon-iris/40 hover:bg-neon-iris/30":"bg-white/[0.02] text-moon-grey/30 border border-white/10 cursor-not-allowed"}`,children:D?e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx(d.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-neon-iris/30 border-t-neon-iris rounded-full"}),"Adding Option..."]}):"Add Option"})]})]}),e.jsxs("div",{className:"pt-8 space-y-4",children:[e.jsx("button",{onClick:()=>k("details"),className:"w-full py-3.5 font-light text-moon-grey/60 bg-white/[0.02] border border-white/10 hover:text-white hover:border-white/20 transition-all",children:"← Back to Market Details"}),!je&&e.jsxs("p",{className:"text-center text-amber-400/70 text-sm flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h?"Add 1 option to launch your binary market":"Add at least 2 options to launch your market"]}),e.jsxs("button",{onClick:()=>k("review"),disabled:!je,className:`group w-full py-4 sm:py-5 text-sm font-medium tracking-wide uppercase transition-all inline-flex items-center justify-center gap-3 ${je?"bg-aqua-pulse/20 text-aqua-pulse border border-aqua-pulse/40 hover:bg-aqua-pulse/30":"bg-white/[0.02] text-moon-grey/30 border border-white/10 cursor-not-allowed"}`,children:[e.jsx("span",{children:"Review & Launch"}),e.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),f==="review"&&e.jsxs(d.div,{className:"space-y-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[e.jsxs("div",{className:"overflow-hidden border border-white/10 bg-graphite-deep/50",children:[e.jsxs("div",{className:"aspect-[21/9] relative bg-ink-black",children:[I?e.jsx("img",{src:I,alt:"Market",loading:"lazy",className:"w-full h-full object-cover max-w-full max-h-full",onError:t=>{t.target.src="https://placehold.co/1200x514/0a0a0f/7c4dff?text=Market+Image"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-moon-grey/30",children:"No image"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-ink-black via-ink-black/60 to-transparent"})]}),e.jsxs("div",{className:"p-6 sm:p-8 -mt-20 relative",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-light text-white mb-3",children:y}),e.jsx("p",{className:"text-moon-grey/50 mb-6 font-light",children:O||"No description provided"}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-6 pt-6 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] sm:text-xs tracking-[0.15em] uppercase text-moon-grey/40",children:"Type"}),e.jsx("p",{className:"text-white font-light mt-2",children:h?"Yes / No":"Multiple Choice"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] sm:text-xs tracking-[0.15em] uppercase text-moon-grey/40",children:"Options"}),e.jsxs("p",{className:"text-white font-light mt-2",children:[m.length," options"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] sm:text-xs tracking-[0.15em] uppercase text-moon-grey/40",children:"Expires"}),e.jsx("p",{className:"text-white font-light mt-2",children:new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-[10px] sm:text-xs tracking-[0.2em] uppercase text-moon-grey/70 font-medium",children:"Market Options"}),e.jsx("div",{className:"grid gap-3",children:m.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-4 sm:gap-5 px-5 sm:px-6 py-4 sm:py-5 bg-white/[0.02] border border-white/10",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-neon-iris/10 border border-neon-iris/30 flex items-center justify-center text-neon-iris font-light text-lg",children:s+1}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-light text-base sm:text-lg",children:t.label}),t.subLabel&&e.jsx("div",{className:"text-moon-grey/50 text-sm mt-1 font-light",children:t.subLabel})]}),e.jsx("span",{className:"ml-auto text-moon-grey/40 text-xs sm:text-sm",children:"50% starting odds"})]},s))})]}),e.jsx("div",{className:"p-6 sm:p-8 bg-neon-iris/5 border border-neon-iris/20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-light text-white",children:"Initial Liquidity"}),e.jsx("p",{className:"text-sm text-moon-grey/50 mt-1 font-light",children:"You'll receive LP shares and earn fees from all trades"})]}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-light text-neon-iris",children:[u," USDC"]})]})}),e.jsxs("div",{className:"pt-8 space-y-4",children:[e.jsx("button",{onClick:()=>k("options"),className:"w-full py-3.5 font-light text-moon-grey/60 bg-white/[0.02] border border-white/10 hover:text-white hover:border-white/20 transition-all",children:"← Back to Edit Options"}),(()=>{var p;const t=parseInt(u)||0,s=((p=n==null?void 0:n.wallet)==null?void 0:p.balance_usdc)??0,r=s/1e6>=t,l=se||!u||t<100||!r;return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:et,disabled:l||se,className:`group w-full py-4 sm:py-5 text-sm font-medium tracking-wide uppercase transition-all duration-300 inline-flex items-center justify-center gap-3 ${se?"bg-aqua-pulse/20 text-aqua-pulse border border-aqua-pulse/30 cursor-wait":l?"bg-white/10 text-moon-grey/40 cursor-not-allowed":"bg-white text-ink-black hover:bg-moon-grey-light"}`,children:se?e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx(d.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-aqua-pulse/30 border-t-aqua-pulse rounded-full"}),"Launching Market..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Launch Market with ",u," USDC"]}),e.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})}),!r&&t>=100&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400/80 text-xs sm:text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("span",{children:["Insufficient balance. You have"," ",e.jsxs("span",{className:"font-medium",children:[we(s).replace("$","")," USDC"]})," ","but need"," ",e.jsxs("span",{className:"font-medium",children:[t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ","USDC"]})]})]}),r&&e.jsxs("p",{className:"text-center text-moon-grey/40 text-xs sm:text-sm font-light",children:["Your ",u," USDC will seed the liquidity pool. You'll earn LP fees from all trades and redeem initial liquidity after the market expires."]})]})})()]})]})]})}),e.jsx(ft,{isOpen:Ve,onClose:()=>{fe(!1),ve(null)},onConfirm:Ze,title:"Delete Option",message:"Are you sure you want to delete this option? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:D})]})};export{Lt as CreateMarket};
